import{d as O,j as C,I as z,o as H,l as k,c as I,k as e,t as j,z as _,u as R,i as B,F as P}from"./@vue.f0a33739.js";import{u as W,L as G,I as J,a as K}from"./index.0bceb754.js";import{P as L}from"./index.81082be8.js";import{M as F}from"./MainSectionHead.99c217de.js";import{u as Q}from"./ConferenceStore.548a58e3.js";import{s as m}from"./index.module.6e348a91.js";import{t as U,g as f,F as X,n as Y,m as M}from"./ant-design-vue.a99caae8.js";import{_ as Z}from"./vue-clipboard3.ca4b4e55.js";import{u as ee}from"./vue-i18n.df730e9c.js";import{d as te}from"./vue-router.85e08d32.js";import{u as oe}from"./AdStore.9b7ee60e.js";import{M as ne}from"./@ant-design.dd8d38e4.js";import"./nprogress.35503c85.js";import"./@rpdg.e35df5be.js";import"./moment.29305b8e.js";import"./axios.7aed06b8.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.647f38fa.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.19fb0a11.js";import"./source-map.e9534891.js";import"./vue.e0a06ef1.js";import"./@ctrl.2e36ce53.js";import"./xgplayer.1ae44471.js";import"./clipboard.18fc16a5.js";function l(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Object]"&&!B(i)}const re=X.useForm;var Ne=O({name:"ConferenceDetail",props:{id:{type:Number,required:!0}},setup(i){var w,A;const{t:r}=ee();let{conferenceStore:a}=Q(),{authenStore:y}=W(),{toClipboard:V}=Z();const{appStore:c}=K(),{adStore:h}=oe();let T=C(()=>c.isEn?"en":"zh");const D=async()=>{try{await V(window.location.href),Y.success({message:r("common.copied")})}catch(t){console.error(t)}};z(()=>{h.getAdvertisement("conference_details_advertisement"),a.getConferenceAdvertisement(),console.log(a.conferenceAd)}),H(()=>{a.getActivityContentDetail(i.id),y.token&&a.checkInSchedule(i.id).then(t=>d.isAdded=t)});let o=C(()=>a.currentDetail);k();const d=I({rate:3,content:"",Action:"1",barcode:(A=(w=y.user)==null?void 0:w.barcode)!=null?A:"",Type:"2",SubscribeId:"",activitycontentid:"",isAdded:void 0,qrcode:void 0,signurl:void 0}),$=I({});re(d,$),k(r("conference.rateValues").split(","));async function q(){try{await a.addToSchedule(i.id)==="ok"&&M.success(r("common.success"))}catch(t){t.message==="error_msg_02"&&M.error("")}}function E(){var s;var t=(s=o.value)==null?void 0:s.signurl;t!=""&&t!=null&&t!=null&&window.open(t)}function N(t,s){return t?t.toString().indexOf("lm.enewie.com")>0?e("iframe",{src:t,class:"specialWidthVideo"},null):e(L,{video:t,poster:s},null):e("p",null,null)}function S(t){return t==null||t===""}return()=>{var x;let t,s,p,v,g,b;return o.value?e(P,null,[e("p",null,null),j(e(U,{class:"mg_b_20",autoplay:!0},{default:()=>{var n;return[(n=h.ad)==null?void 0:n.map(u=>{if(u.value3===T.value)return e("img",{key:u.id,class:"fullWidthImage","data-id":u.value2,src:u.value1},null)})]}}),[[_,!S(`${o.value.content_video}`)]]),e("p",null,null),j(e("img",{src:o.value.bgcolor,style:{width:"510px"},class:"cursor_normal"},null),[[_,S(`${o.value.content_video}`)]]),e("p",null,null),e("div",{class:"pd_20 bg_white"},[e("div",{class:"fl_right"},[e(ne,{class:"pd_r_10 cursor_hand",onClick:D},null)]),e("h3",null,[o.value.title]),e("div",{class:"text_gray mg_tb_20",innerHTML:o.value.content},null),e("p",null,[e(J,{type:"icon-clock"},null),R(" "),o.value.begindate.split(" ")[0]]),e("hr",null,null),d.isAdded===!1&&e(f,{type:"primary",onClick:q},l(t=r("conference.addTo"))?t:{default:()=>[t]}),d.isAdded===!0&&e(f,null,l(s=r("conference.added"))?s:{default:()=>[s]}),o.value.content_video?e(f,{type:"primary",onClick:E},l(p=r("conference.check"))?p:{default:()=>[p]}):e(f,{type:"primary"},l(v=r("conference.wait"))?v:{default:()=>[v]})]),e(F,{redLead:!0},l(g=r("conference.playback"))?g:{default:()=>[g]}),e("div",{class:"bg_white pd_20"},[o.value.video&&e(L,{video:o.value.video},null),N(`${o.value.content_video}`,`${o.value.bgcolor}`),j(e("div",{class:"bg_white "},[e("img",{src:o.value.qrcode},null)]),[[_,!o.value.content_video&&o.value.qrcode!==""]])]),e(F,{redLead:!0},l(b=r("conference.speaker"))?b:{default:()=>[b]}),e("div",{class:m.contactList},[(x=o.value.speakers)==null?void 0:x.map(n=>e("div",{key:n.id,class:m.contactListItem},[e("img",{class:m.avatar,src:n.picture},null),e("div",{class:m.profile},[e(te,{to:`/speakers/${n.id}`},{default:()=>[e("h4",null,[c.isEn?n.name.split("|")[0]:n.name.split("|")[1]])]}),e("div",{class:"text_gray"},[c.isEn?n.company.split("|")[0]:n.company.split("|")[1]]),e("div",{class:"text_gray"},[c.isEn?n.title.split("|")[0]:n.title.split("|")[1]])])]))])]):e(G,null,null)}}});export{Ne as default};
