import{I as i,J as u,M as d,r as f,c as M,d as j,u as k}from"./index.5a3916c7.js";import{u as _}from"./FavouriteStore.88d61909.js";import{p as S,j as r,o as O}from"./ant-design-vue.0721aa65.js";import{_ as I}from"./vue-clipboard3.ca4b4e55.js";import{u as F}from"./vue-i18n.0711e616.js";import{d as w,l as T,c as A,I as B,k as t,i as E,F as G}from"./@vue.fa05379c.js";function y(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!E(e)}var q=w({name:"ContactToolbar",props:{user:{type:Object,required:!0}},setup(e){const{t:a}=F();let{toClipboard:p}=I(),{favoriteStore:s}=_();const{chatStore:v}=j(),{appStore:m}=k();async function b(){try{await p(window.location.href),O.success({message:a("common.copied")})}catch(n){console.error(n)}}const l=T(!1);function C(){m.myItbModule=M.Chat,v.chatWith(e.user)}let o=A({visibility:!1,isOnlineMeeting:1});function g(){o.visibility=!1,u.set(d,e.user),f.push(`/schedule/${o.isOnlineMeeting}`)}return B(async()=>{l.value=s.checkAdded({type:0,foreignKey:e.user.employee_id})}),()=>{let n,c;return t(G,null,[t(S,{visible:o.visibility,title:a("calendar.select_type"),onOk:g,onCancel:()=>{o.visibility=!1}},{default:()=>[t(r.Group,{value:o.isOnlineMeeting,"onUpdate:value":h=>o.isOnlineMeeting=h},{default:()=>[t(r.Button,{key:"1",value:1},y(n=a("calendar.online"))?n:{default:()=>[n]}),t(r.Button,{key:"0",value:0},y(c=a("calendar.offline"))?c:{default:()=>[c]})]})]}),t(i,{type:"icon-namecard"},null),t(i,{type:"icon-icon-test",onClick:C},null),t(i,{type:"icon-icon-test2",onClick:()=>{e.user.IsOnline===1?o.visibility=!0:(u.set(d,e.user),f.push("/schedule/0"))}},null),t(i,{type:"icon-icon-test1",onClick:b},null),l.value?t(i,{type:"icon-collection-fill",onClick:async()=>{await s.delete({type:0,foreignKey:e.user.employee_id}),l.value=!1}},null):t(i,{type:"icon-collection",onClick:async()=>{await s.add({type:0,foreignKey:e.user.employee_id}),l.value=!0}},null)])}}});export{q as C};
