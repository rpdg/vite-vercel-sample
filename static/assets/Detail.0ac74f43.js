var F=Object.defineProperty;var I=(t,o,r)=>o in t?F(t,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[o]=r;var S=(t,o,r)=>(I(t,typeof o!="symbol"?o+"":o,r),r);import{B as P,p as D,l as O,L as B,u as E}from"./index.6728de52.js";import{P as $}from"./index.deb158fe.js";import{M as _}from"./MainSectionHead.b9e7274a.js";import{u as A}from"./FavouriteStore.0dab8def.js";import{I as M,f as H,d as K,l as N,k as e,i as V,F as k}from"./@vue.fa05379c.js";import{C as T}from"./ContactToolbar.94fa4949.js";import{s as n}from"./index.module.af86f0bd.js";import{m as U,n as q}from"./ant-design-vue.1fb4f8c5.js";import{_ as z}from"./vue-clipboard3.ca4b4e55.js";import{u as G}from"./vue-i18n.0711e616.js";import{d as L}from"./vue-router.8ec3c3d8.js";import{A as R,p as W,G as J}from"./@ant-design.8f5596ac.js";import"./moment.29305b8e.js";import"./nprogress.35503c85.js";import"./axios.a57df465.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.e58a7599.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.0eca950e.js";import"./source-map.3671d69c.js";import"./vue.d22487d2.js";import"./@ctrl.2e36ce53.js";import"./xgplayer.8c73ba26.js";import"./clipboard.18fc16a5.js";var Q=Object.defineProperty,X=Object.getOwnPropertyDescriptor,Y=(t,o,r,l)=>{for(var s=l>1?void 0:l?X(o,r):o,i=t.length-1,m;i>=0;i--)(m=t[i])&&(s=(l?m(o,r,s):m(s))||s);return l&&s&&Q(o,r,s),s};class x extends P{constructor(){super();S(this,"detail")}async getDetail(o){this.detail=await D("/newproduct/detail",{productId:o})}}Y([O],x.prototype,"getDetail",1);const h=new x;function Z(t){return M(()=>{h.getDetail(t)}),H(()=>{h.detail=void 0}),{productStore:h}}function u(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!V(t)}var Ee=K({name:"ProductDetail",props:{productId:{type:Number,required:!0}},setup(t){let{productStore:o}=Z(t.productId),{appStore:r}=E(),{favoriteStore:l}=A(),{toClipboard:s}=z();const{t:i}=G(),m=async()=>{try{await s(window.location.href),q.success({message:i("common.copied")})}catch(c){console.error(c)}};let f=N(!1);return()=>{if(o.loading)return e(B,null,null);{let c=o.detail,p=c.info[0],d=c.companyList[0],w=c.resourceList,C=c.contactList;if(f.value=l.checkAdded({type:2,foreignKey:t.productId}),c){let v,y,j,b,g;return e(k,null,[e(_,{redLead:!1},u(v=i("showFloor.productDetail"))?v:{default:()=>[v]}),e(U,{autoplay:!0},u(y=w.filter(a=>a.type==="1").map(a=>e("img",{class:"fullWidthImage cursor_normal",src:a.pic_path},null)))?y:{default:()=>[y]}),e("div",{class:"bg_white mg_tb_20 pd_20"},[e("div",{class:"fl_right"},[e(R,{class:"pd_r_10 cursor_hand",onClick:m},null),f.value?e(W,{class:"cursor_hand",style:{color:"#FFB329"},onClick:async()=>{await l.delete({type:2,foreignKey:p.id}),f.value=!1}},null):e(J,{class:"cursor_hand",onClick:async()=>{await l.add({type:2,foreignKey:p.id}),f.value=!0}},null)]),e("h3",null,[r.isEn?p.product_name_en:p.product_name]),e("div",{class:"text_gray mg_b_20"},[r.isEn?p.product_detail_en:p.product_detail])]),e(_,{redLead:!0},u(j=i("showFloor.productVideo"))?j:{default:()=>[j]}),e("div",{class:"gridCols2"},[w.filter(a=>a.type==="2").map(a=>e($,{video:a.vedio_path,poster:a.vedio_welcome_pic_path},null))]),e(_,{redLead:!0},u(b=i("exhibitor.contact"))?b:{default:()=>[b]}),e("div",{class:n.contactList},[C.map(a=>e("div",{class:n.contactListItem},[e("img",{class:n.avatar,src:a.HeadImageUrl},null),e("div",{class:n.profile},[e(L,{to:`/exhibitors/${d.barcode}/contact/${a.employee_id}`},{default:()=>[e("h4",null,[r.isEn?`${a.firstname}  ${a.lastname}`:a.lastname_cn+a.firstname_cn])]}),e("div",{class:"text_gray"},[a.job_title]),e("div",{class:n.iconBar},[e(T,{user:a},null)])])]))]),e(_,{redLead:!0},u(g=i("exhibitor.company"))?g:{default:()=>[g]}),e("div",{class:n.contactListItem},[e("img",{class:n.avatar,src:d.company_logo},null),e("div",{class:n.profile},[e(L,{to:`/exhibitors/${d.barcode}`},{default:()=>[e("h4",null,[r.isEn?d.companyname_en:d.companyname_cn])]}),e("div",{class:"text_gray"},[r.isEn?d.company_introduction_en:d.company_introduction])])])])}}}}});export{Ee as default};
