import{d as N,j as w,I as O,o as $,l as x,c as A,k as e,t as z,z as B,u as H,i as R,F as W}from"./@vue.c37eb56a.js";import{u as P,L as U,I as G,a as J}from"./index.c8c7e9ca.js";import{P as C}from"./index.803a3e9e.js";import{M as I}from"./MainSectionHead.644d549e.js";import{u as K}from"./ConferenceStore.944262ed.js";import{s as m}from"./index.module.6e348a91.js";import{p as Q,B as p,F as X,n as Y,m as k}from"./ant-design-vue.04da4757.js";import{_ as Z}from"./vue-clipboard3.ca4b4e55.js";import{u as ee}from"./vue-i18n.95ef2b18.js";import{d as te}from"./vue-router.5ade7376.js";import{u as oe}from"./AdStore.f1660115.js";import{y as re}from"./@ant-design.b68099c7.js";import"./nprogress.35503c85.js";import"./@rpdg.c2e06738.js";import"./moment.29305b8e.js";import"./axios.7aed06b8.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.e58a7599.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.19fb0a11.js";import"./source-map.e9534891.js";import"./vue.9582b89e.js";import"./@ctrl.2e36ce53.js";import"./xgplayer.1ae44471.js";import"./clipboard.18fc16a5.js";function a(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Object]"&&!R(i)}const ne=X.useForm;var Oe=N({name:"ConferenceDetail",props:{id:{type:Number,required:!0}},setup(i){var _,h;const{t:n}=ee();let{conferenceStore:l}=K(),{authenStore:b}=P(),{toClipboard:L}=Z();const{appStore:c}=J(),{adStore:y}=oe();let F=w(()=>c.isEn?"en":"zh");const T=async()=>{try{await L(window.location.href),Y.success({message:n("common.copied")})}catch(t){console.error(t)}};O(()=>{y.getAdvertisement("conference_details_advertisement"),l.getConferenceAdvertisement()}),$(()=>{l.getActivityContentDetail(i.id),b.token&&l.checkInSchedule(i.id).then(t=>d.isAdded=t)});let o=w(()=>l.currentDetail);x();const d=A({rate:3,content:"",Action:"1",barcode:(h=(_=b.user)==null?void 0:_.barcode)!=null?h:"",Type:"2",SubscribeId:"",activitycontentid:"",isAdded:void 0,qrcode:""}),V=A({});ne(d,V),x(n("conference.rateValues").split(","));async function M(){try{await l.addToSchedule(i.id)==="ok"&&k.success(n("common.success"))}catch(t){t.message==="error_msg_02"&&k.error("")}}function D(){var s;var t=(s=o.value)==null?void 0:s.gotoUrl;t!=""&&t!=null&&t!=null&&window.open(t)}function q(t,s){return t?t.toString().indexOf("lm.enewie.com")>0?e("iframe",{src:t,class:"specialWidthVideo"},null):e(C,{video:t,poster:s},null):e("p",null,null)}function E(t){return t==null||t===""}return()=>{var S;let t,s,f,v,g,j;return o.value?e(W,null,[e("p",null,null),e(Q,{autoplay:!0},{default:()=>{var r;return[(r=y.ad)==null?void 0:r.map(u=>{if(u.value3===F.value)return e("img",{key:u.id,class:"fullWidthImage","data-id":u.value2,src:u.value1},null)})]}}),z(e("img",{src:o.value.bgcolor,class:"specialWidthImage mg_b_20 cursor_normal"},null),[[B,E(`${o.value.content_video}`)]]),e("p",null,null),e("div",{class:"pd_20 bg_white"},[e("div",{class:"fl_right"},[e(re,{class:"pd_r_10 cursor_hand",onClick:T},null)]),e("h3",null,[o.value.title]),e("div",{class:"text_gray mg_tb_20",innerHTML:o.value.content},null),e("p",null,[e(G,{type:"icon-clock"},null),H(" "),o.value.begindate.split(" ")[0]]),e("hr",null,null),d.isAdded===!1&&e(p,{type:"primary",onClick:M},a(t=n("conference.addTo"))?t:{default:()=>[t]}),d.isAdded===!0&&e(p,null,a(s=n("conference.added"))?s:{default:()=>[s]}),o.value.content_video?e(p,{type:"primary",onClick:D},a(f=n("conference.check"))?f:{default:()=>[f]}):e(p,{type:"primary"},a(v=n("conference.wait"))?v:{default:()=>[v]})]),o.value.video&&e(C,{video:o.value.video},null),q(`${o.value.content_video}`,`${o.value.bgcolor}`),e(I,{redLead:!0},a(g=n("conference.live"))?g:{default:()=>[g]}),e("div",{class:"bg_white pd_20"},[e("img",{style:{width:"100px",marginTop:"10px"},class:"squareItem",src:o.value.qrcode},null)]),e(I,{redLead:!0},a(j=n("conference.speaker"))?j:{default:()=>[j]}),e("div",{class:m.contactList},[(S=o.value.speakers)==null?void 0:S.map(r=>e("div",{key:r.id,class:m.contactListItem},[e("img",{class:m.avatar,src:r.picture},null),e("div",{class:m.profile},[e(te,{to:`/speakers/${r.id}`},{default:()=>[e("h4",null,[c.isEn?r.name.split("|")[0]:r.name.split("|")[1]])]}),e("div",{class:"text_gray"},[c.isEn?r.company.split("|")[0]:r.company.split("|")[1]]),e("div",{class:"text_gray"},[c.isEn?r.title.split("|")[0]:r.title.split("|")[1]])])]))])]):e(U,null,null)}}});export{Oe as default};
