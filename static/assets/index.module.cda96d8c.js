import{I as n,c as j,J as k,M as O,r as f,d as S,a as I}from"./index.38f2740c.js";import{u as w}from"./FavouriteStore.b60c025b.js";import{n as B,j as u,P as F,p as d}from"./ant-design-vue.e660bee2.js";import{_ as T}from"./vue-clipboard3.ca4b4e55.js";import{u as x}from"./vue-i18n.0711e616.js";import{d as E,l as G,c as K,I as N,k as e,i as q,F as A}from"./@vue.fa05379c.js";function _(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!q(t)}var Y=E({name:"ContactToolbar",props:{user:{type:Object,required:!0}},setup(t){const{t:o}=x();let{toClipboard:y}=T(),{favoriteStore:s}=w();const{chatStore:c}=S(),{appStore:m}=I();async function p(){try{await y(window.location.href),d.success({message:o("common.copied")})}catch(i){console.error(i)}}const l=G(!1);function v(){c.chatWith(t.user),c.sendChattingMessage("",6),d.success({message:o("myItb.chat.request_business_card_successfully")})}function b(){m.myItbModule=j.Chat,c.chatWith(t.user)}let a=K({visibility:!1,isOnlineMeeting:1});function g(){a.visibility=!1,t.user.IsOnline===1&&(a.visibility=!0),k.set(O,t.user)}function h(){f.push("/schedule/1")}function C(){f.push("/schedule/0")}return N(async()=>{l.value=await s.judge({type:0,foreignKey:t.user.employee_id})}),()=>{let i,r;return e(A,null,[e(B,{visible:a.visibility,title:o("calendar.select_type"),onOk:g,onCancel:()=>{a.visibility=!1}},{default:()=>[e(u.Group,{value:a.isOnlineMeeting,"onUpdate:value":M=>a.isOnlineMeeting=M},{default:()=>[e(u.Button,{key:"1",value:1},_(i=o("calendar.online"))?i:{default:()=>[i]}),e(u.Button,{key:"0",value:0},_(r=o("calendar.offline"))?r:{default:()=>[r]})]})]}),e(n,{type:"icon-namecard",onClick:v},null),e(n,{type:"icon-icon-test",onClick:b},null),e(F,{title:o("calendar.invaite_title"),"ok-text":o("calendar.online_btn"),"cancel-text":o("calendar.offline_btn"),onConfirm:h,onCancel:C},{default:()=>[e(n,{type:"icon-icon-test2"},null)]}),e(n,{type:"icon-icon-test1",onClick:p},null),l.value?e(n,{type:"icon-collection-fill",onClick:async()=>{await s.delete({type:0,foreignKey:t.user.employee_id}),l.value=!1}},null):e(n,{type:"icon-collection",onClick:async()=>{await s.add({type:0,foreignKey:t.user.employee_id}),l.value=!0}},null)])}}});const J="_item_10mhg_1",P="_avatar_10mhg_6",R="_profile_10mhg_15",V="_iconBar_10mhg_19",W="_avatar_special_10mhg_36",L="_iconfontcolor_10mhg_41";var Z={item:J,avatar:P,profile:R,iconBar:V,avatar_special:W,iconfontcolor:L};export{Y as C,Z as s};
