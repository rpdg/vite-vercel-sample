import{S as a}from"./Config.87ac60ee.js";import{u as A,r as F,U as I,a as N}from"./index.e49b5388.js";import{C as R}from"./CalendarStore.577f0d5b.js";import{u as T}from"./MeetingStore.19adf276.js";import{d as g}from"./avator_red.2a3a1020.js";import{d as f}from"./itb_logo_gray.5050f3d7.js";import{S as u,e as p,h as L,m as x}from"./ant-design-vue.938704eb.js";import{h as V}from"./moment.29305b8e.js";import{u as B}from"./vue-i18n.6a1efd87.js";import{d as c}from"./vue-router.b758f417.js";import{d as P,k as i,F as G,i as J}from"./@vue.6f7c75f1.js";const K="_contentWrap_1wu7g_1",Q="_content_1wu7g_1",X="_img_c1_1wu7g_10",Z="_c2_1wu7g_21",ee="_img_c2_1wu7g_26",ie="_c4_1wu7g_42",te="_img_c4_1wu7g_49",le="_logo_1wu7g_65",se="_logotext_1wu7g_70",oe="_divline_1wu7g_77",ne="_divline2_1wu7g_83",ae="_btnMeeting_1wu7g_89",ce="_enewie_1wu7g_93",re="_code_1wu7g_97";var t={contentWrap:K,content:Q,img_c1:X,c2:Z,img_c2:ee,c4:ie,img_c4:te,logo:le,logotext:se,divline:oe,divline2:ne,btnMeeting:ae,enewie:ce,code:re};function v(b){return typeof b=="function"||Object.prototype.toString.call(b)==="[object Object]"&&!J(b)}var $e=P({props:{detailedMapItem:{type:Object,required:!1}},setup(b){const{t:o}=B(),{appStore:d}=N(),{authenStore:h}=A(),{detailedMapItem:n}=b,{meetingStore:M}=T();let $=-1;F.currentRoute.value.fullPath.indexOf("virtual")>=0?$=1:$=0;function C(e){return!e||e.indexOf("http://")===0||e.indexOf("https://")===0?e:`${a}${e.replace(/\\/g,"/")}`}function S(e,l){let r,_,m;return i("div",{style:"width:100%"},[i("div",null,[i(u,{size:50},{default:()=>[i(c,{to:e.list[0].exhibition_barcode.substr(0,1)==="7"?`/exhibitors/${e.list[0].e_parent_barcode}`:`/exhibitors/${e.list[0].exhibition_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2 "},[e.list[0].e_logoUrl!=null&&e.list[0].e_logoUrl!=""?i("img",{src:`${a}${e.list[0].e_logoUrl}`},null):i("img",{src:f},null)])])]}),i("div",{class:t.divline},null),e.list.map((s,w)=>i(c,{to:`/buyer/${s.buyer_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2 "},[s.b_company_logo!=null&&s.b_company_logo!=""?i("img",{src:`${a}${s.b_company_logo}`},null):i("img",{src:f},null)])])]}))]})]),i("div",null,[i(u,{size:50},{default:()=>[i("div",{class:t.logotext},[d.isEn?e.list[0].e_company:e.list[0].e_company_cn]),i("div",{class:t.divline2},null),e.list.map((s,w)=>i("div",{class:t.logotext},[d.isEn?s.b_company:s.b_company_cn]))]})]),i("p",null,null),i("div",null,[i(u,{size:50},{default:()=>[i(c,{to:e.list[0].exhibition_barcode.substr(0,1)==="7"?`/exhibitors/${e.list[0].e_parent_barcode}/contact/${e.list[0].exhibition_barcode}`:`/exhibitors/${e.list[0].exhibition_barcode}/contact/${e.list[0].exhibition_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2"},[e.list[0].e_headimageurl!=null&&e.list[0].e_headimageurl!=""?i("img",{src:`${a}${e.list[0].e_headimageurl}`},null):i("img",{src:g},null)])])]}),i("div",{class:t.divline},null),e.list.map((s,w)=>i(c,{to:`/buyer/${s.buyer_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2 "},[s.b_headimageurl!=null&&s.b_headimageurl!=""?i("img",{src:`${a}${s.b_headimageurl}`},null):i("img",{src:g},null)])])]}))]})]),i("div",null,[i(u,{size:50},{default:()=>[i("div",{class:t.logotext},[d.isEn?e.list[0].e_firstname+" "+e.list[0].e_lastname:e.list[0].e_lastname_cn+e.list[0].e_firstname_cn]),i("div",{class:t.divline2},null),e.list.map((s,w)=>i("div",{class:t.logotext},[d.isEn?s.b_firstname+" "+s.b_lastname:s.b_lastname_cn+s.b_firstname_cn]))]})]),i("div",{class:t.btnMeeting},[e.metting_pwd!=null&&e.metting_pwd!=""?i("span",{class:`text_red text_bold ${t.enewie}`},[o("calendar.meeting.meeting_pwd")+" ",e.metting_pwd]):i("span",{class:`text_red text_bold ${t.enewie}`},null),i(p,{type:"primary",class:t.enewie,onClick:z},v(r=o("calendar.meeting.evaluate"))?r:{default:()=>[r]}),i(p,{type:"primary",class:t.enewie,onClick:()=>window.open("https://lm.enewie.com/meeting")},v(_=o("calendar.meeting.join"))?_:{default:()=>[_]}),l==="byItb"?i(p,{type:"primary",class:t.enewie,onClick:()=>D(y(e))},v(m=o("calendar.meeting.delete"))?m:{default:()=>[m]}):i("span",null,null)])])}function j(e){let l=C(e.activity_coverpicture);return i(c,{to:`/Conference/${e.activity_content_id}`},{default:()=>[i("div",{class:t.img_c1,style:{backgroundImage:`url(${l})`}},null)]})}function k(e){let l,r;return i("div",{style:"width:100%"},[i("div",null,[i(u,{size:50},{default:()=>[i(c,{to:e.exhibition_barcode.substr(0,1)==="7"?`/exhibitors/${e.e_parent_barcode}`:`/exhibitors/${e.exhibition_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2 "},[e.e_logoUrl!=null&&e.e_logoUrl!=""?i("img",{src:`${a}${e.e_logoUrl}`},null):i("img",{src:f},null)])])]}),i("div",{class:t.divline},null),e.buyer_barcode.substr(0,1)==="1"||e.buyer_barcode.substr(0,1)==="4"||e.buyer_barcode.substr(0,1)==="7"?i(c,{to:e.buyer_barcode.substr(0,1)==="7"?`/exhibitors/${e.b_parent_barcode}`:`/exhibitors/${e.buyer_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2 "},[e.b_company_logo!=null&&e.b_company_logo!=""?i("img",{src:`${a}${e.b_company_logo}`},null):i("img",{src:f},null)])])]}):i(c,{to:`/buyer/${e.buyer_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2 "},[e.b_company_logo!=null&&e.b_company_logo!=""?i("img",{src:`${a}${e.b_company_logo}`},null):i("img",{src:f},null)])])]})]})]),i("div",null,[i(u,{size:50},{default:()=>[i("div",{class:t.logotext},[d.isEn?e.e_company:e.e_company_cn]),i("div",{class:t.divline2},null),i("div",{class:t.logotext},[d.isEn?e.b_company:e.b_company_cn])]})]),i("p",null,null),i("div",null,[i(u,{size:50},{default:()=>[i(c,{to:e.exhibition_barcode.substr(0,1)==="7"?`/exhibitors/${e.e_parent_barcode}/contact/${e.exhibition_barcode}`:`/exhibitors/${e.exhibition_barcode}/contact/${e.exhibition_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2"},[e.e_headimageurl!=null&&e.e_headimageurl!=""?i("img",{src:`${a}${e.e_headimageurl}`},null):i("img",{src:g},null)])])]}),i("div",{class:t.divline},null),e.buyer_barcode.substr(0,1)==="1"||e.buyer_barcode.substr(0,1)==="4"||e.buyer_barcode.substr(0,1)==="7"?i(c,{to:e.buyer_barcode.substr(0,1)==="7"?`/exhibitors/${e.b_parent_barcode}`:`/exhibitors/${e.buyer_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2 "},[e.b_headimageurl!=null&&e.b_headimageurl!=""?i("img",{src:`${a}${e.b_headimageurl}`},null):i("img",{src:g},null)])])]}):i(c,{to:`/buyer/${e.buyer_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2 "},[e.b_headimageurl!=null&&e.b_headimageurl!=""?i("img",{src:`${a}${e.b_headimageurl}`},null):i("img",{src:g},null)])])]})]})]),i("div",null,[i(u,{size:50},{default:()=>[i("div",{class:t.logotext},[d.isEn?e.e_firstname+" "+e.e_lastname:e.e_lastname_cn+e.e_firstname_cn]),i("div",{class:t.divline2},null),i("div",{class:t.logotext},[d.isEn?e.b_firstname+" "+e.b_lastname:e.b_lastname_cn+e.b_firstname_cn])]})]),i("div",{class:t.btnMeeting},[i(p,{type:"primary",class:t.enewie,onClick:W},v(l=o("calendar.meeting.accept"))?l:{default:()=>[l]}),i(p,{class:t.enewie,onClick:H},v(r=o("calendar.meeting.deny"))?r:{default:()=>[r]})])])}function y(e){var r;let l=0;return e.list[0].exhibition_barcode===((r=h.user)==null?void 0:r.barcode)?Number(e.id):(e.list.map(_=>{var m;_.buyer_barcode===((m=h.user)==null?void 0:m.barcode)&&(l=Number(_.id))}),l)}function Y(e){if(e.type==="byItb"||e.type==="byMe"){let l=e.entry;return S(l,e.type)}else if(e.type==="conference"){let l=e.entry;return j(l)}else{let l=e.entry;return k(l)}}function q(e){return i("div",{class:t.content},[e.metting_title])}function E(e){return i("div",{class:t.content},[i("b",null,[e.activity_title]),i("br",null,null),e.actitivity_content_title,i("br",null,null),e.location])}function O(e){}function U(e){if(e.type==="byItb"||e.type==="byMe"){let l=e.entry;return q(l)}else if(e.type==="conference"){let l=e.entry;return E(l)}else return e.entry,O()}function z(){}function D(e){L.confirm({content:i("div",null,[o("calendar.meeting.comfirm_title")]),onOk:async()=>{try{await M.deleteMeeting(e,$)?(x.success(o("common.success")),location.reload()):x.error(o("common.failed"))}catch(l){switch(l.message){case"error_msg_01":case"error_msg_02":case"error_msg_03":x.error(o(`calendar.delete_meeting_errors.${l.message}`));break;default:x.error(l.message)}}},okText:o("calendar.blockTime.confirm_okbtn"),onCancel:()=>{},cancelText:o("calendar.blockTime.confirm_cancelbtn")})}function H(){}function W(){}return()=>i(G,null,[n&&i("div",{class:"pd_20"},[i("div",{class:"gridCols2"},[i("div",{class:"text_left",style:{color:R[n.color],fontWeight:600}},[o(`calendar.colors_map.${n.color}`)]),i("div",{class:"text_right"},[n.type==="unconfirmed"?I(n.entry.begin_datetime,h.minutesOffset,"YYYY-MM-DD HH:mm:ss"):n.type==="conference"?V(n.entry.actitivity_content_begindate).format("YYYY-MM-DD")+" "+n.entry.actitivity_content_time:I(n.entry.begindate,h.minutesOffset,"YYYY-MM-DD HH:mm:ss")])]),i("div",{class:`pd_tb_20 ${t.contentWrap}`},[Y(n),U(n)]),i("hr",null,null)])])}});export{$e as E};
