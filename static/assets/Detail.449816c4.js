var e=Object.defineProperty,t=(t,a,o)=>(((t,a,o)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[a]=o})(t,"symbol"!=typeof a?a+"":a,o),o);import{B as a,p as o,l as r,L as i,I as s,u as l}from"./index.92850b98.js";import{P as c}from"./index.fee4b973.js";import{M as n}from"./MainSectionHead.8a2a8185.js";import{u as d}from"./FavouriteStore.15460693.js";import{aq as p,az as m,a7 as u,k as f,a5 as y,al as b,M as v}from"./@vue.545e4a02.js";import{C as _}from"./ContactToolbar.66a4f0f9.js";import{s as j}from"./index.module.896cc485.js";import{h as g,n as h}from"./ant-design-vue.ed23f4fc.js";import{_ as w}from"./vue-clipboard3.e3c4c0a4.js";import{u as x}from"./vue-i18n.4205327f.js";import{d as L}from"./vue-router.d53e7fc8.js";import{u as I,v as S,w as C}from"./@ant-design.5ba6d8e8.js";import"./nprogress.3e43c680.js";import"./moment.fe945fe1.js";import"./@babel.c1abb07f.js";import"./regenerator-runtime.df0ff768.js";import"./omit.js.0925d6dc.js";import"./lodash-es.4607ccff.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.c2b61631.js";import"./source-map.3671d69c.js";import"./vue.e5ab7692.js";import"./@ctrl.2e36ce53.js";import"./xgplayer.7ff2548f.js";import"./clipboard.4b9ff286.js";var D=Object.defineProperty,E=Object.getOwnPropertyDescriptor;class O extends a{constructor(){super(),t(this,"detail")}async getDetail(e){this.detail=await o("/newproduct/detail",{productId:e})}}((e,t,a,o)=>{for(var r,i=o>1?void 0:o?E(t,a):t,s=e.length-1;s>=0;s--)(r=e[s])&&(i=(o?r(t,a,i):r(i))||i);o&&i&&D(t,a,i)})([r],O.prototype,"getDetail",1);const $=new O;function k(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!b(e)}var F=u({name:"ProductDetail",props:{productId:{type:Number,required:!0}},setup(e){let{productStore:t}=(a=e.productId,p((()=>{$.getDetail(a)})),m((()=>{$.detail=void 0})),{productStore:$});var a;let{appStore:o}=l(),{favoriteStore:r}=d(),{toClipboard:u}=w();const{t:b}=x(),D=async()=>{try{await u(window.location.href),h.success({message:b("common.copied")})}catch(e){console.error(e)}};let E=f(!1);return()=>{if(t.loading)return y(i,null,null);{let e=t.detail,a=e.info[0],i=e.companyList[0],l=e.resourceList,d=e.contactList;if(E.value=r.checkAdded({type:1,foreignKey:i.barcode}),e){let e,t,p,m,u;return y(v,null,[y(n,{redLead:!1},k(e=b("showFloor.productDetail"))?e:{default:()=>[e]}),y(g,{autoplay:!0},k(t=l.filter((e=>"1"===e.type)).map((e=>y("img",{class:"fullWidthImage cursor_normal",src:e.pic_path},null))))?t:{default:()=>[t]}),y("div",{class:"bg_white mg_t_20 pd_20"},[y("div",{class:"fl_right"},[y(I,{class:"pd_r_10 cursor_hand",onClick:D},null),E.value?y(S,{class:"cursor_hand",style:{color:"#FFB329"},onClick:async()=>{await r.delete({type:2,foreignKey:a.id}),E.value=!1}},null):y(C,{class:"cursor_hand",onClick:async()=>{await r.add({type:2,foreignKey:a.id}),E.value=!0}},null)]),y("h3",null,[o.isEn?a.product_name_en:a.product_name]),y("div",{class:"text_gray mg_b_20"},[o.isEn?a.product_detail_en:a.product_detail]),y("h4",null,[y(s,{type:"icon-company",style:{fontSize:"20px"}},null)," ",y(L,{to:`/exhibitors/${i.barcode}`},{default:()=>[o.isEn?i.companyname_en:i.companyname_cn]})])]),y(n,{redLead:!0},k(p=b("showFloor.productVideo"))?p:{default:()=>[p]}),y("div",{class:"pd_20 gridCols2"},[l.filter((e=>"2"===e.type)).map((e=>y(c,{video:e.vedio_path,poster:e.vedio_welcome_pic_path},null)))]),y(n,{redLead:!0},k(m=b("exhibitor.contact"))?m:{default:()=>[m]}),y("div",{class:j.contactList},[d.map((e=>y("div",{class:j.contactListItem},[y("img",{class:j.avatar,src:e.HeadImageUrl},null),y("div",{class:j.profile},[y(L,{to:`/exhibitors/${i.barcode}/contact/${e.employee_id}`},{default:()=>[y("h4",null,[o.isEn?`${e.firstname}  ${e.lastname}`:e.lastname_cn+e.firstname_cn])]}),y("div",{class:"text_gray"},[e.job_title]),y("div",{class:j.iconBar},[y(_,{barcode:e.employee_id},null)])])])))]),y(n,{redLead:!0},k(u=b("exhibitor.company"))?u:{default:()=>[u]}),y("div",{class:j.contactListItem},[y("img",{class:j.avatar,src:i.company_logo},null),y("div",{class:j.profile},[y(L,{to:`/exhibitors/${i.barcode}`},{default:()=>[y("h4",null,[o.isEn?i.companyname_en:i.companyname_cn])]}),y("div",{class:"text_gray"},[o.isEn?i.company_introduction_en:i.company_introduction])])])])}}}}});export{F as default};
