import{J as T,a as F,R as _,u as L}from"./index.dc07d6e5.js";import{M as h}from"./MainSectionHead.b9e7274a.js";import{F as f,R as z,g,I as M,h as k,T as O,i as V}from"./ant-design-vue.b491a4ce.js";import{h as b}from"./moment.29305b8e.js";import{u as A}from"./vue-i18n.0711e616.js";import{s as m}from"./index.module.af86f0bd.js";import{d as B,c as J,w as P,k as e,i as q,u as G,F as K}from"./@vue.fa05379c.js";import{m as Q}from"./@ant-design.8f5596ac.js";import"./vue-router.8ec3c3d8.js";import"./nprogress.35503c85.js";import"./axios.a57df465.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.e58a7599.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.0eca950e.js";import"./source-map.3671d69c.js";import"./vue.d22487d2.js";import"./@ctrl.2e36ce53.js";const W="_label_1h9tg_1";var j={label:W};function v(p){return typeof p=="function"||Object.prototype.toString.call(p)==="[object Object]"&&!q(p)}var He=B({props:{isOnline:{type:Number,required:!0}},name:"Schedule",setup(p){var w;const{isOnline:D}=p,s=T.get("current_meeting_target");s||alert("error");const{t:n}=A(),{appStore:r}=L(),{authenStore:l}=F(),a=(w=l.user)==null?void 0:w.timeZone[0];let t=J({topic:n("calendar.schedule_meeting.topic_text",{a:r.isEn?s.company:s.company_cn,b:r.isEn?s.company:s.company_cn}),startDate:b(),startTime:b("08:00","HH:mm"),startDatetime:"",endDate:void 0,endTime:void 0,endDatetime:"",warning:!1,showChooser:!1,destination:null,product:null});y();function y(){var o,d,u,c;t.startDatetime=`${(o=t.startDate)==null?void 0:o.format("YYYY-MM-DD")} ${(d=t.startTime)==null?void 0:d.format("HH:mm:ss")}`,t.endDate=b(t.startDatetime),t.endTime=b(t.startDatetime).add(30,"minute"),t.endDatetime=`${(u=t.endDate)==null?void 0:u.format("YYYY-MM-DD")} ${(c=t.endTime)==null?void 0:c.format("HH:mm:ss")}`}P([t],y);function R(){console.log({isOnline:D,toBarcode:s.employee_id,messageId:null,beginDateTime:t.startDatetime,endDateTime:t.endDatetime})}return()=>{var H,I,S,$,x,C,E,N,U,Y;let o,d,u,c;return e(K,null,[e(h,{redLead:!1},v(o=n("calendar.schedule_meeting.title"))?o:{default:()=>[o]}),e("div",{class:"pd_20 bg_white"},[e(f,null,{default:()=>[D===0&&e(z,{gutter:20},{default:()=>[e(g,{span:12},{default:()=>[e("span",{class:j.label},[n("calendar.schedule_meeting.topic")]),e(f.Item,null,{default:()=>[e(M,{type:"text",disabled:!0,value:t.topic},null)]})]}),e(g,{span:12},{default:()=>[e("span",{class:j.label},[n("calendar.schedule_meeting.my_time_zone")]),e(f.Item,null,{default:()=>[e(M,{disabled:!0,type:"text",value:`${a==null?void 0:a.utc} ${r.isEn?a==null?void 0:a.timezone_en:a==null?void 0:a.timezone_cn}`},null)]})]})]}),e(z,{gutter:20},{default:()=>[e(g,{span:12},{default:()=>[e("span",{class:j.label},[n("calendar.schedule_meeting.start")]),e(f.Item,{name:"startDatetime"},{default:()=>[e(k,{value:t.startDate,"onUpdate:value":i=>t.startDate=i,allowClear:!1},null),e(O,{format:"HH:mm",value:t.startTime,"onUpdate:value":i=>t.startTime=i,allowClear:!1},null)]})]}),e(g,{span:12},{default:()=>[e("span",{class:j.label},[n("calendar.schedule_meeting.end")]),e(f.Item,{name:"endDatetime"},{default:()=>[e(k,{value:t.endDate,"onUpdate:value":i=>t.endDate=i,disabled:!0},null),e(O,{value:t.endTime,"onUpdate:value":i=>t.endTime=i,format:"HH:mm",disabled:!0},null)]})]})]}),e("hr",null,null),e("p",null,[n("calendar.time_zone")," ",`(${a==null?void 0:a.utc}) ${r.isEn?a==null?void 0:a.timezone_en:a==null?void 0:a.timezone_cn}`]),e("p",null,[e(Q,null,null),G(" "),t.startDatetime])]})]),e(h,null,v(d=n("calendar.schedule_meeting.contactor"))?d:{default:()=>[d]}),e("div",{class:`pd_20 bg_white  ${m.contactListItem}`},[e("img",{src:((H=l.user)==null?void 0:H.roleName)===_.buyer?s.HeadImageUrl:(I=l.user)==null?void 0:I.headImageUrl,class:m.avatar},null),e("div",{class:m.profile},[((S=l.user)==null?void 0:S.roleName)===_.buyer?r.isEn?s.company:s.company_cn:r.isEn?($=l.user)==null?void 0:$.company:(x=l.user)==null?void 0:x.companyCn])]),e(h,null,v(u=n("calendar.schedule_meeting.buyer"))?u:{default:()=>[u]}),e("div",{class:`pd_20 bg_white  ${m.contactListItem}`},[e("img",{src:((C=l.user)==null?void 0:C.roleName)===_.buyer?(E=l.user)==null?void 0:E.headImageUrl:s.HeadImageUrl,class:m.avatar},null),e("div",{class:m.profile},[((N=l.user)==null?void 0:N.roleName)===_.buyer?r.isEn?(U=l.user)==null?void 0:U.company:(Y=l.user)==null?void 0:Y.companyCn:r.isEn?s.company:s.company_cn])]),e("p",{class:"pd_t_20"},[e(V,{type:"primary",onClick:R,style:{width:"150px"}},v(c=n("calendar.schedule_meeting.schedule"))?c:{default:()=>[c]})])])}}});export{He as default};
