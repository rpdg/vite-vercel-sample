import{S as h,a as g,I as v,L as $}from"./index.9456dc5f.js";import{s as I,u as x}from"./index.module.2ec03c0c.js";import{m as A}from"./@rpdg.e35df5be.js";import{S as E,p as S,o as b,H as F}from"./ant-design-vue.f8ac2ba9.js";import{d as k}from"./vue-router.85e08d32.js";import{d as L}from"./itb_logo_gray.5050f3d7.js";import{d as f,l as O,k as e,o as R,w as H,i as j,F as y,c as B}from"./@vue.f0a33739.js";import{M as T}from"./MainSectionHead.3a39449d.js";import{u as U}from"./vue-i18n.df730e9c.js";import"./moment.29305b8e.js";import"./@ant-design.a109b705.js";import"./@ctrl.2e36ce53.js";import"./nprogress.35503c85.js";import"./axios.7aed06b8.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.647f38fa.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.19fb0a11.js";import"./source-map.e9534891.js";import"./vue.e0a06ef1.js";var _=f({props:{exhibitor:{type:Object,required:!0},onClick:{type:Function,required:!1}},name:"ShowfloorIndex_Card",setup(o){var n;let{appStore:i}=g();O((n=o.exhibitor.company_logo)!=null?n:"");let r="";return i.isEn?o.exhibitor.company_logo_en!=null&&o.exhibitor.company_logo_en!=""?r=h+o.exhibitor.company_logo_en:o.exhibitor.company_logo!=null&&o.exhibitor.company_logo!=""?r=h+o.exhibitor.company_logo:r=L:o.exhibitor.company_logo!=null&&o.exhibitor.company_logo!=""?r=h+o.exhibitor.company_logo:o.exhibitor.company_logo_en!=null&&o.exhibitor.company_logo_en!=""?r=h+o.exhibitor.company_logo_en:r=L,()=>e("div",{class:I.card,onClick:o.onClick},[e("div",{class:"squareItem2"},[e("img",{src:r},null)]),e("div",{class:I.title},[i.isEn?o.exhibitor.companyname_en:o.exhibitor.companyname_cn])])}});function M(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!j(o)}var V=f({name:"Showfloor_SearchBar",setup(){const{t:o}=U();let{showfloorStore:i}=x(),{appStore:r}=g(),n=i.state;R(()=>{i.doSearchShowFloor({region:"",product:"",companyType:""})}),H([n],p);function p(){var u,d,a,l;n.iconIndex===0?i.doSearchShowFloor({region:(u=n.destination)!=null?u:"",product:(d=n.product)!=null?d:"",companyType:""}):n.iconIndex===1?i.doSearchShowFloor({region:(a=n.destination)!=null?a:"",product:"",companyType:(l=n.company)!=null?l:""}):n.iconIndex===2&&i.getExhibitor()}return()=>{let u;return e(y,null,[e(T,{redLead:!1},M(u=o("menu.showFloor"))?u:{default:()=>[u]}),e("div",{class:"bg_white pd_20"},[e(E,{size:15},{default:()=>{var d,a,l;return[n.iconIndex!=2&&e(S,{allowClear:!0,placeholder:o("showFloor.destination"),style:"width: 150px",value:n.destination,"onUpdate:value":t=>n.destination=t,options:(d=i.continentList)==null?void 0:d.map(t=>({value:r.isEn?t.chau_en:t.chau_cn}))},null),n.iconIndex===0&&e(S,{allowClear:!0,placeholder:o("showFloor.product"),style:{width:"300px"},value:n.product,"onUpdate:value":t=>n.product=t,options:(a=i.productTypes)==null?void 0:a.map(t=>({value:t.id,label:r.isEn?t.group_en:t.group_cn}))},null),n.iconIndex===1&&e(S,{allowClear:!0,placeholder:o("showFloor.company"),style:{width:"300px"},value:n.company,"onUpdate:value":t=>n.company=t,options:(l=i.companyTypes)==null?void 0:l.map(t=>({value:t.id,label:r.isEn?t.companytype_en:t.companytype_cn}))},null),e(b.Group,{value:n.iconIndex,"onUpdate:value":t=>n.iconIndex=t,class:"iconGroup"},{default:()=>[e(b.Button,{value:1},{default:()=>[e(v,{type:"icon-category"},null)]}),e(b.Button,{value:0},{default:()=>[e(v,{type:"icon-all"},null)]}),e(b.Button,{value:2},{default:()=>[e(v,{type:"icon-connections"},null)]})]})]}})])])}}});function q(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!j(o)}var z=f({name:"ShowfloorIndex_Results",setup(){let{appStore:o}=g(),{showfloorStore:i}=x();const r=O(),n="#ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");let p=B({});function u(a){var l;return(l=a.children)==null?void 0:l.map(t=>e("div",{class:"gridCols4"},[e("div",null,null),e(_,{exhibitor:t},null)]))}function d(a=!1){var m;let l={};(m=i.results)==null||m.forEach(c=>{var w,C;let s=o.isEn?(w=c.companyname_en)==null?void 0:w.substr(0,1).toLocaleUpperCase():c.companyname_cn?A((C=c.companyname_cn)==null?void 0:C.substr(0,1))[0].toLocaleUpperCase():"#";l[s]||(n.indexOf(s)===-1&&(s="#"),l[s]=[]),l[s].push(c)});let t=[];return n.forEach(c=>{l[c]&&(t.push(e(y,null,[e("p",{id:`#${c}`},[c]),e("hr",null,null)])),a?l[c].forEach(s=>t.push(e("div",{class:"bg_white mg_tb_20 pd_20"},[e("div",{class:"gridCols4"},[e(_,{exhibitor:s,onClick:()=>i.getExhibitorChildren(s)},null)]),u(s)]))):t.push(e("div",{class:"gridCols4 bg_white mg_t_20 pd_20"},[l[c].map(s=>e(k,{to:`/exhibitors/${s.barcode}`,target:"_blank"},{default:()=>[e(_,{exhibitor:s},null)]}))])))}),p=B(l),t}return()=>{let a;return e("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},[e("div",{style:{height:"200px"}},[e(V,null,null),e("div",{class:"mg_tb_20 bg_white",style:{height:"30px"}},[e(F,{affix:!1,getContainer:()=>r.value,onClick:(l,t)=>{if(l.preventDefault(),t.href){let m=document.getElementById(t.href);m&&m.scrollIntoView({block:"start"})}}},{default:()=>[e(E,{size:1},q(a=Object.keys(p).sort().map((l,t)=>e(F.Link,{key:`${l}-${t}`,title:l,href:`#${l}`},null)))?a:{default:()=>[a]})]})])]),e("div",{style:{flex:1,overflow:"auto"}},[e("div",{ref:"divScroll",class:"bg_white pd_20"},[i.loading?e($,null,null):d(i.state.iconIndex===2)])])])}}});function D(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!j(o)}var G=f({name:"ShowfloorIndex_Sponsor",setup(){const{t:o}=U();let{showfloorStore:i}=x();return()=>{var n;let r;return e(y,null,[e(T,{redLead:!0},D(r=o("showFloor.sponsors"))?r:{default:()=>[r]}),e("div",{class:"gridCols4 bg_white mg_t_20 pd_20"},[(n=i.sponsors)==null?void 0:n.map(p=>e(k,{to:"/sponsors"},{default:()=>[e(_,{exhibitor:p},null)]}))])])}}}),ge=f({name:"ShowfloorIndex",setup(){return()=>e(y,null,[e(G,null,null),e(z,null,null)])}});export{ge as default};
