import{s as a,L as y,a as h}from"./index.c72f31be.js";import{u as m}from"./vue-i18n.97207468.js";import{u as S}from"./index.1e4cf29d.js";import{M as x,F as u,b as p}from"./ant-design-vue.5d68287d.js";import{u as L}from"./vue-router.c781243b.js";import{d as c,l as q,c as d,B as M,k as e}from"./@vue.c3fad188.js";import{A as P,O as D}from"./@ant-design.f49dba90.js";import{S as F}from"./index.3c416e2e.js";import"./@intlify.19fb0a11.js";import"./nprogress.35503c85.js";import"./source-map.e9534891.js";import"./vue.f1721d35.js";import"./@rpdg.2a67823e.js";import"./moment.29305b8e.js";import"./axios.7aed06b8.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.647f38fa.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@ctrl.2e36ce53.js";var k=c({name:"Login_PasswordFormAuto",props:{username:{type:String,required:!0},passwordMD5:{type:String,required:!0},type:{type:String,required:!0}},setup(o){const{authenStore:n}=S(),t=L(),{t:s}=m({useScope:"global"}),l=q(),r=d({username:"",password:"",agreed:!0}),g=d({username:[{required:!0,message:s("login.usernameTip"),trigger:"change"}],password:[{required:!0,message:s("login.passwordTip"),trigger:"change"}]}),{username:f}=o,{passwordMD5:j}=o,{type:w}=o;r.username=f,r.password=j.split("").reverse().join(""),b();async function b(){try{await n.loginWithPasswordMD5(M(r)),t.push(`/${w}`)}catch(i){let v=i.message;x.error({content:s(v==="Username or password error"?"login.login_error1":"login.login_error2"),okText:s("login.okbtn"),onOk:()=>{t.push("/login")}})}}return()=>e(u,{ref:l,model:r,rules:g},{default:()=>[e(u.Item,{name:"username"},{default:()=>[e(p,{value:r.username,"onUpdate:value":i=>r.username=i,placeholder:s("login.username")},{prefix:()=>e(P,{style:"color: rgba(0, 0, 0, 0.25)"},null)})]}),e(u.Item,{name:"password"},{default:()=>[e(p,{type:"password",value:r.password,"onUpdate:value":i=>r.password=i,placeholder:s("login.password")},{prefix:()=>e(D,{style:"color: rgba(0, 0, 0, 0.25)"},null)})]})]})}}),te=c({name:"Login",props:{username:{type:String,required:!0},passwordMD5:{type:String,required:!0},type:{type:String,required:!0}},setup(o){const{t:n}=m({useScope:"global"}),t=d({loginWithPassword:!0}),{username:s}=o,{passwordMD5:l}=o,{type:r}=o;return()=>e(h,null,{default:()=>[e("div",{class:a.outer},[e("div",{class:a.padding},[e(y,null,null)]),e("div",{class:a.form},[e("h1",null,[n("login.loginForm")]),e("div",{class:a.tabs},[e("div",{class:t.loginWithPassword?a.curTab:""},[e("span",null,[n("login.passwordLogin")])]),e("div",{class:t.loginWithPassword?"":a.curTab},[e("span",null,[n("login.smsLogin")])])]),t.loginWithPassword?e(k,{username:s,passwordMD5:l,type:r},null):e(F,null,null)])])]})}});export{te as default};
