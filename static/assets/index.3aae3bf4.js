import{a as H,L as N,I}from"./index.33d032b7.js";import{P as V}from"./index.0abd557c.js";import{M as c}from"./MainSectionHead.b9e7274a.js";import{u as A}from"./ConferenceStore.f6683743.js";import{s as u}from"./index.module.af86f0bd.js";import{g as b,F as i,x as B,y as O,m as L}from"./ant-design-vue.0721aa65.js";import{u as P}from"./vue-i18n.0711e616.js";import{d as z}from"./vue-router.8ec3c3d8.js";import{O as U}from"./@ant-design.8f5596ac.js";import{d as q,I as W,j as $,l as F,c as R,k as e,i as E,u as g,F as G,B as J}from"./@vue.fa05379c.js";import"./moment.29305b8e.js";import"./nprogress.35503c85.js";import"./axios.a57df465.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.e58a7599.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.0eca950e.js";import"./source-map.3671d69c.js";import"./vue.d22487d2.js";import"./@ctrl.2e36ce53.js";import"./xgplayer.8c73ba26.js";function s(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!E(n)}const K=i.useForm;var Ce=q({name:"ConferenceDetail",props:{id:{type:Number,required:!0}},setup(n){var S,w;const{t}=P();let{conferenceStore:d}=A(),{authenStore:k}=H();W(()=>{d.getActivityContentDetail(n.id)});let a=$(()=>d.currentDetail);const _=F(),r=R({rate:3,content:"",Action:"1",barcode:(w=(S=k.user)==null?void 0:S.barcode)!=null?w:"",Type:"2",SubscribeId:"",activitycontentid:""}),h=R({}),{resetFields:T}=K(r,h),x=F(t("conference.rateValues").split(","));async function M(){try{await _.value.validate(),console.log(J(r))}catch(l){}}async function D(){try{await d.addToSchedule(n.id)==="ok"&&L.success(t("common.success"))}catch(l){l.message==="error_msg_02"&&L.error("")}}return()=>{var C;let l,m,p,f,v,j,y;return a.value?e(G,null,[e(c,{redLead:!1},s(l=t("conference.detail"))?l:{default:()=>[l]}),e("img",{src:a.value.activityCoverPicture,class:"specialWidthImage mg_b_20 cursor_normal"},null),e("div",{class:"pd_20 bg_white"},[e("h3",null,[a.value.title]),e("div",{class:"text_gray mg_tb_20",innerHTML:a.value.content},null),e("p",null,[e(I,{type:"icon-clock"},null),g(" "),a.value.begindate.split(" ")[0],g(" "),a.value.time]),e("p",null,[e(I,{type:"icon-map"},null),g(" "),a.value.location]),e("hr",null,null),e(b,{type:"primary",onClick:D},s(m=t("conference.addTo"))?m:{default:()=>[m]})]),e(c,{redLead:!0},s(p=t("conference.playback"))?p:{default:()=>[p]}),a.value.video&&e(V,{video:a.value.video},null),e(c,{redLead:!0},s(f=t("conference.speaker"))?f:{default:()=>[f]}),e("div",{class:u.contactList},[(C=a.value.speakers)==null?void 0:C.map(o=>e("div",{key:o.id,class:u.contactListItem},[e("img",{class:u.avatar,src:o.picture},null),e("div",{class:u.profile},[e(z,{to:`/speakers/${o.id}`},{default:()=>[e("h4",null,[o.name])]}),e("div",{class:"text_gray"},[o.company]),e("div",{class:"text_gray"},[o.title])])]))]),e(c,{redLead:!0},s(v=t("conference.evaluation"))?v:{default:()=>[v]}),e("div",{class:"bg_white pd_20"},[e(i,{ref:_,model:r,rules:h},{default:()=>[e(i.Item,null,{default:()=>[e(B,{value:r.rate,"onUpdate:value":o=>r.rate=o,tooltips:x.value},{character:()=>e(U,null,null)}),e("span",{class:"ant-rate-text"},[x.value[r.rate-1]])]}),e(i.Item,null,{default:()=>[e(O,{value:r.content,"onUpdate:value":o=>r.content=o,placeholder:t("conference.comment"),allowClear:!0,autoSize:{minRows:3,maxRows:6}},null)]}),e(i.Item,null,{default:()=>[e(b,{type:"primary",onClick:M},s(j=t("common.submit"))?j:{default:()=>[j]}),e(b,{onClick:T,style:"margin-left: 10px"},s(y=t("common.reset"))?y:{default:()=>[y]})]})]})])]):e(N,null,null)}}});export{Ce as default};
