var C=Object.defineProperty;var F=(t,o,a)=>o in t?C(t,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[o]=a;var h=(t,o,a)=>(F(t,typeof o!="symbol"?o+"":o,a),a);import{B as I,p as D,l as O,L as P,u as B}from"./index.d765f8b3.js";import{M as b}from"./MainSectionHead.b9e7274a.js";import{u as E}from"./FavouriteStore.dde9e6d6.js";import{I as $,f as A,d as M,l as H,k as e,i as K,F as N}from"./@vue.fa05379c.js";import{C as k}from"./ContactToolbar.15c57051.js";import{s as n}from"./index.module.6e348a91.js";import{q,o as T}from"./ant-design-vue.54bc4d6b.js";import{_ as U}from"./vue-clipboard3.ca4b4e55.js";import{u as V}from"./vue-i18n.0711e616.js";import{d as S}from"./vue-router.8ec3c3d8.js";import{A as z,p as G,G as R}from"./@ant-design.8f5596ac.js";import"./moment.29305b8e.js";import"./nprogress.35503c85.js";import"./axios.a57df465.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.e58a7599.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.0eca950e.js";import"./source-map.3671d69c.js";import"./vue.d22487d2.js";import"./@ctrl.2e36ce53.js";import"./clipboard.18fc16a5.js";var W=Object.defineProperty,J=Object.getOwnPropertyDescriptor,Q=(t,o,a,i)=>{for(var s=i>1?void 0:i?J(o,a):o,l=t.length-1,u;l>=0;l--)(u=t[l])&&(s=(i?u(o,a,s):u(s))||s);return i&&s&&W(o,a,s),s};class w extends I{constructor(){super();h(this,"detail")}async getDetail(o){this.detail=await D("/newproduct/detail",{productId:o})}}Q([O],w.prototype,"getDetail",1);const g=new w;function X(t){return $(()=>{g.getDetail(t)}),A(()=>{g.detail=void 0}),{productStore:g}}function f(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!K(t)}var De=M({name:"ProductDetail",props:{productId:{type:Number,required:!0}},setup(t){let{productStore:o}=X(t.productId),{appStore:a}=B(),{favoriteStore:i}=E(),{toClipboard:s}=U();const{t:l}=V(),u=async()=>{try{await s(window.location.href),T.success({message:l("common.copied")})}catch(c){console.error(c)}};let m=H(!1);return()=>{if(o.loading)return e(P,null,null);{let c=o.detail,p=c.info[0],d=c.companyList[0],L=c.resourceList,x=c.contactList;if(m.value=i.checkAdded({type:2,foreignKey:t.productId}),c){let _,v,j,y;return e(N,null,[e(b,{redLead:!1},f(_=l("showFloor.productDetail"))?_:{default:()=>[_]}),e(q,{autoplay:!0},f(v=L.filter(r=>r.type==="1").map(r=>e("img",{class:"fullWidthImage cursor_normal",src:r.pic_path},null)))?v:{default:()=>[v]}),e("div",{class:"bg_white mg_tb_20 pd_20"},[e("div",{class:"fl_right"},[e(z,{class:"pd_r_10 cursor_hand",onClick:u},null),m.value?e(G,{class:"cursor_hand",style:{color:"#FFB329"},onClick:async()=>{await i.delete({type:2,foreignKey:p.id}),m.value=!1}},null):e(R,{class:"cursor_hand",onClick:async()=>{await i.add({type:2,foreignKey:p.id}),m.value=!0}},null)]),e("h3",null,[a.isEn?p.product_name_en:p.product_name]),e("div",{class:"text_gray mg_b_20"},[a.isEn?p.product_detail_en:p.product_detail])]),e(b,{redLead:!0},f(j=l("exhibitor.contact"))?j:{default:()=>[j]}),e("div",{class:n.contactList},[x.map(r=>e("div",{class:n.contactListItem},[e("img",{class:n.avatar,src:r.HeadImageUrl},null),e("div",{class:n.profile},[e(S,{to:`/exhibitors/${d.barcode}/contact/${r.employee_id}`},{default:()=>[e("h4",null,[a.isEn?`${r.firstname}  ${r.lastname}`:r.lastname_cn+r.firstname_cn])]}),e("div",{class:"text_gray"},[r.job_title]),e("div",{class:n.iconBar},[e(k,{user:r},null)])])]))]),e(b,{redLead:!0},f(y=l("exhibitor.company"))?y:{default:()=>[y]}),e("div",{class:n.contactListItem},[e("img",{class:n.avatar,src:d.company_logo},null),e("div",{class:n.profile},[e(S,{to:`/exhibitors/${d.barcode}`},{default:()=>[e("h4",null,[a.isEn?d.companyname_en:d.companyname_cn])]}),e("div",{class:"text_gray"},[a.isEn?d.company_introduction_en:d.company_introduction])])])])}}}}});export{De as default};
