import{I as a,J as u,M as f,r as d,c as C,d as j,a as M}from"./index.5a197180.js";import{u as k}from"./FavouriteStore.979ed092.js";import{n as S,j as r,p as O}from"./ant-design-vue.034afe85.js";import{_ as I}from"./vue-clipboard3.ca4b4e55.js";import{u as w}from"./vue-i18n.0711e616.js";import{d as B,l as F,c as T,I as E,k as t,i as G,F as K}from"./@vue.fa05379c.js";function p(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!G(e)}var D=B({name:"ContactToolbar",props:{user:{type:Object,required:!0}},setup(e){const{t:n}=w();let{toClipboard:y}=I(),{favoriteStore:s}=k();const{chatStore:m}=j(),{appStore:_}=M();async function v(){try{await y(window.location.href),O.success({message:n("common.copied")})}catch(i){console.error(i)}}const l=F(!1);function g(){_.myItbModule=C.Chat,m.chatWith(e.user)}let o=T({visibility:!1,isOnlineMeeting:1});function h(){o.visibility=!1,u.set(f,e.user),d.push(`/schedule/${o.isOnlineMeeting}`)}return E(async()=>{l.value=await s.judge({type:0,foreignKey:e.user.employee_id})}),()=>{let i,c;return t(K,null,[t(S,{visible:o.visibility,title:n("calendar.select_type"),onOk:h,onCancel:()=>{o.visibility=!1}},{default:()=>[t(r.Group,{value:o.isOnlineMeeting,"onUpdate:value":b=>o.isOnlineMeeting=b},{default:()=>[t(r.Button,{key:"1",value:1},p(i=n("calendar.online"))?i:{default:()=>[i]}),t(r.Button,{key:"0",value:0},p(c=n("calendar.offline"))?c:{default:()=>[c]})]})]}),t(a,{type:"icon-namecard"},null),t(a,{type:"icon-icon-test",onClick:g},null),t(a,{type:"icon-icon-test2",onClick:()=>{e.user.IsOnline===1?o.visibility=!0:(u.set(f,e.user),d.push("/schedule/0"))}},null),t(a,{type:"icon-icon-test1",onClick:v},null),l.value?t(a,{type:"icon-collection-fill",onClick:async()=>{await s.delete({type:0,foreignKey:e.user.employee_id}),l.value=!1}},null):t(a,{type:"icon-collection",onClick:async()=>{await s.add({type:0,foreignKey:e.user.employee_id}),l.value=!0}},null)])}}});const N="_item_10mhg_1",x="_avatar_10mhg_6",A="_profile_10mhg_15",J="_iconBar_10mhg_19",R="_avatar_special_10mhg_36",V="_iconfontcolor_10mhg_41";var H={item:N,avatar:x,profile:A,iconBar:J,avatar_special:R,iconfontcolor:V};export{D as C,H as s};
