import{M as L}from"./MainSectionHead.99c217de.js";import{a as O}from"./index.d755f037.js";import{u as S}from"./ConferenceStore.d113756d.js";import{s as p,t as k,p as j,w as C}from"./ant-design-vue.a99caae8.js";import{h as d}from"./moment.29305b8e.js";import{u as I}from"./vue-i18n.df730e9c.js";import{d as M}from"./vue-router.85e08d32.js";import{s as _}from"./index.module.6e348a91.js";import{D as H,U as B}from"./@ant-design.dd8d38e4.js";import{d as h,l as R,k as e,u as P,c as U,w as Y,B as y,I as A,i as N,F as T}from"./@vue.f0a33739.js";import"./@rpdg.e35df5be.js";import"./nprogress.35503c85.js";import"./axios.7aed06b8.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.647f38fa.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.19fb0a11.js";import"./source-map.e9534891.js";import"./vue.e0a06ef1.js";import"./@ctrl.2e36ce53.js";const V="_content_ocxss_1",E="_title_ocxss_8",F="_toggler_ocxss_23";var f={content:V,title:E,toggler:F},w=h({name:"presentationListItem",props:{content:{type:Object,required:!0},shown:{type:Boolean,default:!1}},setup(a){const{content:s,shown:r}=a,i=R(r);function m(){i.value=!i.value}return()=>e("div",{class:f.content},[e("div",{class:f.title,onClick:m},[e("h3",null,[s.title]),e("div",{class:f.toggler},[i.value?e(H,{class:"cursor_hand"},null):e(B,{class:"cursor_hand"},null)])]),e(p,{style:{display:i.value?"block":"none"},itemLayout:"vertical",dataSource:s.children},{renderItem:({item:o})=>e(p.Item,{class:_.verticalListItem},{default:()=>[e(p.Item.Meta,null,{title:()=>e(M,{to:`/conference/${o.activity_content_id}`},{default:()=>[o.actitivity_content_title]}),description:()=>e("div",{class:_.content},[o.actitivity_content_begindate.split(" ")[0]," ",P(" "),e("br",null,null),o.location]),avatar:()=>e("img",{style:"width:120px;",src:o.actitivity_content_bgcolor},null)})]})})])}});function x(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!N(a)}var je=h({name:"PresentationList",setup(){var v,g;const{t:a}=I();let{conferenceStore:s}=S();const{appStore:r}=O(),i={from:d((v=r.exhibitionDate)==null?void 0:v.onlineBeginDateTime).startOf("month"),to:d((g=r.exhibitionDate)==null?void 0:g.onlineEndDateTime).endOf("month")},m=n=>n<i.from||n>i.to;let o=U({isOnline:!0,month:d(i.from,"YYYY-MM-DD HH:mm:ss").diff(Date.now(),"second")>0?d(i.from):d(Date.now()).startOf("month")});Y(o,n=>{s.getPresentationHubList(y(n))}),A(()=>{s.getPresentationHubList(y(o)),s.getConferenceAdvertisement()});function D(n){let l=n.target.dataset.id;if(l==""||l==null||l==null)return!1;window.open("#/exhibitors/"+l)}return()=>{var l,b;let n,u;return e(T,null,[e("p",null,null),e(k,{autoplay:!0},{default:()=>{var t;return[(t=s.conferenceAd)==null?void 0:t.map(c=>e("img",{key:c.id,class:"fullWidthImage","data-id":c.value2,src:c.value1,onClick:D},null))]}}),e(L,{redLead:!1},x(n=a("menu.presentation"))?n:{default:()=>[n]}),e("div",{class:"pd_20 bg_white mg_b_20"},[e(j.Group,{value:o.isOnline,"onUpdate:value":t=>o.isOnline=t},{default:()=>[e(j.Button,{value:!0},x(u=a("events.online"))?u:{default:()=>[u]})]}),e("span",{class:"mg_l_20"},[e(C,{disabledDate:m,allowClear:!1,value:o.month,"onUpdate:value":t=>o.month=t},null)])]),e("div",{class:"pd_20 bg_white"},[r.isEn?(l=s.presentationList)==null?void 0:l.filter(t=>t.bgcolor==="en").map((t,c)=>e(w,{key:t.id,content:t,shown:!1},null)):(b=s.presentationList)==null?void 0:b.filter(t=>t.bgcolor==="cn").map((t,c)=>e(w,{key:t.id,content:t,shown:!1},null))])])}}});export{je as default};
