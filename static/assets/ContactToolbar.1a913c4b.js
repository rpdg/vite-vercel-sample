import{I as i,J as u,M as d,r as f,c as j,d as M,u as _}from"./index.e3c7c0e3.js";import{u as k}from"./FavouriteStore.fe62eb45.js";import{n as S,j as r,p as O}from"./ant-design-vue.84b208bc.js";import{_ as I}from"./vue-clipboard3.9bc60d4d.js";import{u as w}from"./vue-i18n.8989ea2a.js";import{d as F,l as T,c as B,I as E,k as t,i as G,F as K}from"./@vue.f0f90a02.js";function y(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!G(e)}var q=F({name:"ContactToolbar",props:{user:{type:Object,required:!0}},setup(e){const{t:a}=w();let{toClipboard:p}=I(),{favoriteStore:s}=k();const{chatStore:v}=M(),{appStore:m}=_();async function b(){try{await p(window.location.href),O.success({message:a("common.copied")})}catch(n){console.error(n)}}const l=T(!1);function g(){m.myItbModule=j.Chat,v.chatWith(e.user)}let o=B({visibility:!1,isOnlineMeeting:1});function C(){o.visibility=!1,u.set(d,e.user),f.push(`/schedule/${o.isOnlineMeeting}`)}return E(async()=>{l.value=await s.judge({type:0,foreignKey:e.user.employee_id})}),()=>{let n,c;return t(K,null,[t(S,{visible:o.visibility,title:a("calendar.select_type"),onOk:C,onCancel:()=>{o.visibility=!1}},{default:()=>[t(r.Group,{value:o.isOnlineMeeting,"onUpdate:value":h=>o.isOnlineMeeting=h},{default:()=>[t(r.Button,{key:"1",value:1},y(n=a("calendar.online"))?n:{default:()=>[n]}),t(r.Button,{key:"0",value:0},y(c=a("calendar.offline"))?c:{default:()=>[c]})]})]}),t(i,{type:"icon-namecard"},null),t(i,{type:"icon-icon-test",onClick:g},null),t(i,{type:"icon-icon-test2",onClick:()=>{e.user.IsOnline===1?o.visibility=!0:(u.set(d,e.user),f.push("/schedule/0"))}},null),t(i,{type:"icon-icon-test1",onClick:b},null),l.value?t(i,{type:"icon-collection-fill",onClick:async()=>{await s.delete({type:0,foreignKey:e.user.employee_id}),l.value=!1}},null):t(i,{type:"icon-collection",onClick:async()=>{await s.add({type:0,foreignKey:e.user.employee_id}),l.value=!0}},null)])}}});export{q as C};
