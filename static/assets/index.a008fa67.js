import{s as e,L as a}from"./index.module.8b64bbf8.js";import{a as r}from"./index.44160a32.js";import{F as s,I as o,j as t,k as i}from"./ant-design-vue.6a335735.js";import{u as l}from"./vue-i18n.683f3bc1.js";import{a as n,u as d,d as p}from"./vue-router.1edc7a6a.js";import{r as m,y as u}from"./@ant-design.c434cfba.js";import{a7 as c,k as g,r as f,a5 as j,a4 as b,al as v,t as y}from"./@vue.01a79c59.js";import"./HomeStore.0adf3176.js";import"./moment.fe945fe1.js";import"./nprogress.3e43c680.js";import"./@babel.c1abb07f.js";import"./regenerator-runtime.df0ff768.js";import"./omit.js.0925d6dc.js";import"./lodash-es.4607ccff.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.c2b61631.js";import"./source-map.3671d69c.js";import"./vue.bd1bc7e8.js";import"./@ctrl.2e36ce53.js";function h(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!v(e)}var w=c({name:"Login",setup(c,{slots:v}){const w=n(),k=d(),{t:x}=l({useScope:"global"}),I=g(),T=f({username:"",password:"",agreed:!0}),U=f({username:[{required:!0,message:x("login.usernameTip"),trigger:"change"}],password:[{required:!0,message:x("login.passwordTip"),trigger:"change"}]});async function q(){var e,a;try{await I.value.validate(),await r.login(y(T)),k.push(null!=(a=null==(e=w.query)?void 0:e.redirect)?a:"/home")}catch(s){console.log("error",s)}}return()=>{let l,n,d;return j(a,null,{default:()=>[j("div",{class:e.outer},[j("div",{class:e.padding},[j("h3",null,[b("China 2021 plus")])]),j("div",{class:e.form},[j("h1",null,[x("login.loginForm")]),j(s,{ref:I,model:T,rules:U},{default:()=>[j(s.Item,{name:"username"},{default:()=>[j(o,{value:T.username,"onUpdate:value":e=>T.username=e,placeholder:x("login.username")},{prefix:()=>j(m,{style:"color: rgba(0, 0, 0, 0.25)"},null)})]}),j(s.Item,{name:"password"},{default:()=>[j(o,{type:"password",value:T.password,"onUpdate:value":e=>T.password=e,placeholder:x("login.password")},{prefix:()=>j(u,{style:"color: rgba(0, 0, 0, 0.25)"},null)})]}),j(s.Item,{name:"agreed"},{default:()=>[j(t,{checked:T.agreed,"onUpdate:checked":e=>T.agreed=e},{default:()=>[j(p,{to:"/agreement"},h(l=x("login.agreeTip"))?l:{default:()=>[l]})]})]}),j(s.Item,null,{default:()=>[j(i,{type:"primary",block:!0,disabled:!T.agreed,loading:r.loading,onClick:q},h(n=x("login.login"))?n:{default:()=>[n]})]})]}),j("p",{class:e.registTip},[j(p,{to:"/signUp"},h(d=x("login.registTip"))?d:{default:()=>[d]})])]),j("div",{class:e.padding},null)])]})}}});export{w as default};
