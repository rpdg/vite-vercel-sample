import{a as f,L as I,I as h}from"./index.bbac38a9.js";import{s as S,u as _}from"./index.module.dfa13d71.js";import{m as E}from"./@rpdg.dab4d1a7.js";import{E as w,S as x,l as b,k as d}from"./ant-design-vue.14644436.js";import{d as F}from"./vue-router.8e73f157.js";import{S as k}from"./Config.87ac60ee.js";import{d as L}from"./itb_logo_gray.5050f3d7.js";import{d as p,l as B,k as e,i as C,F as v,o as O,w as T}from"./@vue.7a36ac42.js";import{M as U}from"./MainSectionHead.743546ec.js";import{u as A}from"./vue-i18n.532c4af8.js";import"./moment.29305b8e.js";import"./@ant-design.4b470cc8.js";import"./@ctrl.2e36ce53.js";import"./nprogress.c26b133a.js";import"./axios.7aed06b8.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.e58a7599.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.9c0a92d2.js";import"./source-map.3671d69c.js";import"./vue.a54dcdd3.js";var y=p({props:{exhibitor:{type:Object,required:!0},onClick:{type:Function,required:!1}},name:"ShowfloorIndex_Card",setup(l){var t;let{appStore:a}=f(),c=B((t=l.exhibitor.company_logo)!=null?t:"");return()=>e("div",{class:S.card,onClick:l.onClick},[e("div",{class:"squareItem2"},[c.value!=null&&c.value!=""?e("img",{src:`${k}${c.value}`},null):e("img",{src:L},null)]),e("div",{class:S.title},[a.isEn?l.exhibitor.companyname_en:l.exhibitor.companyname_cn])])}});function R(l){return typeof l=="function"||Object.prototype.toString.call(l)==="[object Object]"&&!C(l)}var $=p({name:"ShowfloorIndex_Results",setup(){let{appStore:l}=f(),{showfloorStore:a}=_();const c="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");function t(i){var n;return(n=i.children)==null?void 0:n.map(r=>e("div",{class:"gridCols4"},[e("div",null,null),e(y,{exhibitor:r},null)]))}function m(i=!1){var u;let n={};(u=a.results)==null||u.forEach(o=>{var g,j;let s=l.isEn?(g=o.companyname_en)==null?void 0:g.substr(0,1).toLocaleUpperCase():o.companyname_cn?E((j=o.companyname_cn)==null?void 0:j.substr(0,1))[0].toLocaleUpperCase():"#";n[s]||(c.indexOf(s)===-1&&(s="#"),n[s]=[]),n[s].push(o)});let r=[];return c.forEach(o=>{n[o]&&(r.push(e(v,null,[e("p",{id:`#${o}`},[o]),e("hr",null,null)])),i?n[o].forEach(s=>r.push(e("div",{class:"bg_white mg_tb_20 pd_20"},[e("div",{class:"gridCols4"},[e(y,{exhibitor:s,onClick:()=>a.getExhibitorChildren(s)},null)]),t(s)]))):r.push(e("div",{class:"gridCols4 bg_white mg_t_20 pd_20"},[n[o].map(s=>e(F,{to:`/exhibitors/${s.barcode}`},{default:()=>[e(y,{exhibitor:s},null)]}))])))}),r}return()=>{let i;return e("div",null,[e("div",{class:"mg_tb_20 bg_white"},[e(w,{affix:!1,onClick:(n,r)=>{if(n.preventDefault(),r.href){let u=document.getElementById(r.href);u&&u.scrollIntoView({block:"start",behavior:"smooth"})}}},{default:()=>[e(x,{size:1},R(i=c.map(n=>e(w.Link,{title:n,href:`#${n}`},null)))?i:{default:()=>[i]})]})]),e("div",{class:"bg_white pd_20"},[a.loading?e(I,null,null):m(a.state.iconIndex===2)])])}}});function M(l){return typeof l=="function"||Object.prototype.toString.call(l)==="[object Object]"&&!C(l)}var V=p({name:"Showfloor_SearchBar",setup(){const{t:l}=A();let{showfloorStore:a}=_(),{appStore:c}=f(),t=a.state;O(()=>{a.doSearchShowFloor({region:"",product:"",companyType:""})}),T([t],m);function m(){var i,n,r,u;t.iconIndex===0?a.doSearchShowFloor({region:(i=t.destination)!=null?i:"",product:(n=t.product)!=null?n:"",companyType:""}):t.iconIndex===1?a.doSearchShowFloor({region:(r=t.destination)!=null?r:"",product:"",companyType:(u=t.company)!=null?u:""}):t.iconIndex===2&&a.getExhibitor()}return()=>{let i;return e(v,null,[e(U,{redLead:!1},M(i=l("menu.showFloor"))?i:{default:()=>[i]}),e("div",{class:"bg_white pd_20"},[e(x,{size:15},{default:()=>{var n,r,u;return[t.iconIndex!=2&&e(b,{allowClear:!0,placeholder:l("showFloor.destination"),style:"width: 150px",value:t.destination,"onUpdate:value":o=>t.destination=o,options:(n=a.continentList)==null?void 0:n.map(o=>({value:c.isEn?o.chau_en:o.chau_cn}))},null),t.iconIndex===0&&e(b,{allowClear:!0,placeholder:l("showFloor.product"),style:{width:"300px"},value:t.product,"onUpdate:value":o=>t.product=o,options:(r=a.productTypes)==null?void 0:r.map(o=>({value:o.id,label:c.isEn?o.group_en:o.group_cn}))},null),t.iconIndex===1&&e(b,{allowClear:!0,placeholder:l("showFloor.company"),style:{width:"300px"},value:t.company,"onUpdate:value":o=>t.company=o,options:(u=a.companyTypes)==null?void 0:u.map(o=>({value:o.id,label:c.isEn?o.companytype_en:o.companytype_cn}))},null),e(d.Group,{value:t.iconIndex,"onUpdate:value":o=>t.iconIndex=o,class:"iconGroup"},{default:()=>[e(d.Button,{value:0},{default:()=>[e(h,{type:"icon-all"},null)]}),e(d.Button,{value:1},{default:()=>[e(h,{type:"icon-category"},null)]}),e(d.Button,{value:2},{default:()=>[e(h,{type:"icon-connections"},null)]})]})]}})])])}}}),he=p({name:"ShowfloorIndex",setup(){return()=>e(v,null,[e(V,null,null),e($,null,null)])}});export{he as default};
