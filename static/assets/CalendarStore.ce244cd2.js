var y=Object.defineProperty;var C=(s,t,a)=>t in s?y(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;var o=(s,t,a)=>(C(s,typeof t!="symbol"?t+"":t,a),a);import{B as g,p as h,g as M,l as c}from"./index.156122b3.js";var B=Object.defineProperty,w=Object.getOwnPropertyDescriptor,f=(s,t,a,e)=>{for(var r=e>1?void 0:e?w(t,a):t,i=s.length-1,l;i>=0;i--)(l=s[i])&&(r=(e?l(t,a,r):l(r))||r);return e&&r&&B(t,a,r),r};const D={Red:"#AB2B2F",Blue:"#2878FF",Yellow:"#F0B422",Black:"#020202",Gray:"#CDCDCF"};class n extends g{constructor(){super();o(this,"virtualMap");o(this,"virtualMapDetail");o(this,"physicalMap");o(this,"physicalMapDetail");o(this,"inited",!1);o(this,"loadedTimes",0);this.virtualMap=new Map,this.virtualMapDetail=new Map,this.physicalMap=new Map,this.physicalMapDetail=new Map}putColorNum(t,a,e,r){var d;let i=t?this.virtualMap:this.physicalMap,l=a.replace(/\//g,"-").split(" ")[0];i.has(l)||i.set(l,[]);let u=i.get(l);(u==null?void 0:u.indexOf(e))===-1&&(u==null||u.push(e));let p=t?this.virtualMapDetail:this.physicalMapDetail;p.has(l)||p.set(l,[]),(d=p.get(l))==null||d.push({type:e,item:r})}async getVirtualCalendar(t){let a=await h("NewSchedule/GetUserVirtualCalendar",t);++this.loadedTimes>1&&(this.inited=!0),a.conferenceList.forEach(e=>{e.type==="1"?this.putColorNum(!0,e.begindate,"Blue",e):this.putColorNum(!0,e.begindate,"Red",e)}),a.scheduleByMy.forEach(e=>{this.putColorNum(!0,e.begindate,"Black",e)}),a.scheduleByItb.forEach(e=>{this.putColorNum(!0,e.begindate,"Yellow",e)}),a.scheduleByUnConfirm.forEach(e=>{this.putColorNum(!0,e.begindate,"Gray",e)})}async getPhysicalCalendar(t){let a=await h("NewSchedule/GetUserPhysicalExhibitionCalendar",t);++this.loadedTimes>1&&(this.inited=!0),a.conferenceList.forEach(e=>{e.type==="1"?this.putColorNum(!1,e.begindate,"Blue",e):this.putColorNum(!1,e.begindate,"Red",e)}),a.scheduleByMy.forEach(e=>{this.putColorNum(!1,e.begindate,"Black",e)}),a.scheduleByItb.forEach(e=>{this.putColorNum(!1,e.begindate,"Yellow",e)}),a.scheduleByUnConfirm.forEach(e=>{this.putColorNum(!1,e.begindate,"Gray",e)})}async addSchedule(t){return await h("NewSchedule/AddInviteSchedule",t)}async getTextTip(t){let a=await M("Common/GetMapInfoByKey?key=calendar_tips");return t?a[0].value1:a[0].value2}}f([c],n.prototype,"getVirtualCalendar",1);f([c],n.prototype,"getPhysicalCalendar",1);const b=new n,E=function(){return{calendarStore:b}};export{D as C,E as u};
