import{M as b}from"./MainSectionHead.8ce27b3b.js";import{a as _,u as g}from"./index.72e81481.js";import{u as v}from"./CalendarStore.d195c0ac.js";import{g as M}from"./ant-design-vue.45bb77f4.js";import{h as i}from"./moment.29305b8e.js";import{u as h}from"./vue-i18n.8989ea2a.js";import{a as S,u as y}from"./vue-router.65bc85cf.js";import{E as Y}from"./Entry.7a894d82.js";import{d as C,o as D,c as H,j as k,k as r,i as w,F as x}from"./@vue.f0f90a02.js";import"./@ant-design.b29a0759.js";import"./@ctrl.2e36ce53.js";import"./nprogress.8b9ed5b7.js";import"./axios.a57df465.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.e58a7599.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.35d5f340.js";import"./source-map.3671d69c.js";import"./vue.8bc7d658.js";import"./Config.87ac60ee.js";function p(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!w(a)}var se=C({props:{},setup(){var n;const{t:a}=h(),c=S(),d=y(),{appStore:l}=g(),{authenStore:m}=_(),{calendarStore:s}=v(),e=(n=m.user)==null?void 0:n.timeZone[0];D(()=>{if(!s.inited){let t=i("2021-11-01");const o={beginDate:i(t).startOf("year").format("YYYY-MM-DD HH:mm:ss"),endDate:i(t).endOf("year").format("YYYY-MM-DD HH:mm:ss")};s.getVirtualCalendar(o),s.getPhysicalCalendar(o)}});let u=H({detailMap:s.physicalMapDetail}),f=k(()=>{var t;return(t=u.detailMap.get(c.params.date))!=null?t:[]});return()=>{let t,o;return r(x,null,[r(b,{redLead:!1},p(t=a("calendar.virtual_platform_calendar"))?t:{default:()=>[t]}),r("p",{class:"text_red"},[`${a("calendar.time_zone")}: ${e==null?void 0:e.utc} ${l.isEn?e==null?void 0:e.timezone_en:e==null?void 0:e.timezone_cn}`]),r("div",{class:"bg_white pd_20 mg_b_20"},[r(M,{type:"primary",onClick:()=>d.push("/calendar/blockTime")},p(o=a("calendar.btn_add_block_time"))?o:{default:()=>[o]})]),r("div",{class:"bg_white pd_20"},[f.value.map(j=>r(Y,{val:j},null))])])}}});export{se as default};
