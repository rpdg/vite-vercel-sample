var $=Object.defineProperty;var C=(o,a,i)=>a in o?$(o,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[a]=i;var S=(o,a,i)=>(C(o,typeof a!="symbol"?a+"":a,i),i);import{p as F,L as D,a as O}from"./index.25c5da6b.js";import{M as y}from"./MainSectionHead.dad211bc.js";import{u as P}from"./FavouriteStore.d0d17ec0.js";import{B as A,l as E}from"./@rpdg.8b8261fd.js";import{I as B,f as H,d as q,l as M,k as e,i as U,F as K}from"./@vue.b2913f50.js";import{s as r}from"./index.module.6e348a91.js";import{q as N,p as W}from"./ant-design-vue.33d5ec34.js";import{_ as k}from"./vue-clipboard3.5287e840.js";import{u as z}from"./vue-i18n.f56f8be1.js";import{d as w}from"./vue-router.82b024de.js";import{S as x}from"./Config.41849c7b.js";import{d as V}from"./avator_red.2a3a1020.js";import{d as j}from"./itb_logo_gray.5050f3d7.js";import{z as G,A as R,G as J}from"./@ant-design.8ced1675.js";import"./moment.29305b8e.js";import"./nprogress.9dcdc490.js";import"./axios.7aed06b8.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.e58a7599.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.e28dde39.js";import"./source-map.e9534891.js";import"./vue.7093eef6.js";import"./@ctrl.2e36ce53.js";import"./clipboard.8b2d5081.js";var Q=Object.defineProperty,T=Object.getOwnPropertyDescriptor,X=(o,a,i,c)=>{for(var s=c>1?void 0:c?T(a,i):a,l=o.length-1,p;l>=0;l--)(p=o[l])&&(s=(c?p(a,i,s):p(s))||s);return c&&s&&Q(a,i,s),s};class L extends A{constructor(){super();S(this,"detail")}async getDetail(a){this.detail=await F("/newproduct/detail",{productId:a})}}X([E],L.prototype,"getDetail",1);const b=new L;function Y(o){return B(()=>{b.getDetail(o)}),H(()=>{b.detail=void 0}),{productStore:b}}function h(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!U(o)}var Ae=q({name:"ProductDetail",props:{productId:{type:Number,required:!0}},setup(o){let{productStore:a}=Y(o.productId),{appStore:i}=O(),{favoriteStore:c}=P(),{toClipboard:s}=k();const{t:l}=z(),p=async()=>{try{await s(window.location.href),W.success({message:l("common.copied")})}catch(m){console.error(m)}};let u=M(!1);return()=>{if(a.loading)return e(D,null,null);{let m=a.detail,d=m.info[0],n=m.companyList[0],f=m.resourceList,I=m.contactList;if(u.value=c.checkAdded({type:2,foreignKey:o.productId}),m){let _,v,g;return e(K,null,[e(y,{redLead:!1},h(_=l("showFloor.productDetail"))?_:{default:()=>[_]}),e(N,{autoplay:!0},{default:()=>[f.length===0?e("img",{class:"specialWidthImage cursor_normal",src:j},null):f.filter(t=>t.type==="1").map(t=>t.pic_filename!=null&&t.pic_filename!=""?e("img",{class:"specialWidthImage cursor_normal",src:`${t.pic_path}/${t.pic_filename}`},null):e("img",{class:"specialWidthImage cursor_normal",src:j},null))]}),e("div",{class:"bg_white mg_tb_20 pd_20"},[e("div",{class:"fl_right"},[e(G,{class:"pd_r_10 cursor_hand",onClick:p},null),u.value?e(R,{class:"cursor_hand",style:{color:"#FFB329"},onClick:async()=>{await c.delete({type:2,foreignKey:d.id}),u.value=!1}},null):e(J,{class:"cursor_hand",onClick:async()=>{await c.add({type:2,foreignKey:d.id}),u.value=!0}},null)]),e("h3",null,[i.isEn?d.product_name_en:d.product_name]),e("div",{class:"text_gray mg_b_20"},[i.isEn?d.product_comment_en:d.product_comment]),e("div",{class:"text_gray mg_b_20"},[i.isEn?d.product_detail_en:d.product_detail]),f.length===0?e("div",null,null):f.filter(t=>t.type==="3").map(t=>t.video_filename!=null&&t.video_filename!=""?e("a",{href:`${t.video_path}/${t.video_filename}`},[e("b",null,[l("showFloor.brochure")])]):e("div",null,null))]),e(y,{redLead:!0},h(v=l("exhibitor.contact"))?v:{default:()=>[v]}),e("div",{class:r.contactList},[I.map(t=>e("div",{class:r.contactListItem},[t.HeadImageUrl!=null&&t.HeadImageUrl!=""?e("img",{class:r.avatar,src:`${x}${t.HeadImageUrl}`},null):e("img",{class:r.avatar,src:V},null),e("div",{class:r.profile},[e(w,{to:`/exhibitors/${n.barcode}/contact/${t.employee_id}`},{default:()=>[e("h4",null,[i.isEn?`${t.firstname}  ${t.lastname}`:t.lastname_cn+t.firstname_cn])]}),e("div",{class:"text_gray"},[t.job_title]),e("div",{class:r.iconBar},null)])]))]),e(y,{redLead:!0},h(g=l("exhibitor.company"))?g:{default:()=>[g]}),e("div",{class:r.contactListItem},[n.company_logo_en!=null&&n.company_logo_en!=""?e("div",{style:"width:100px;height:100px;"},[e("div",{class:"squareItem2"},[e("img",{class:r.avatar,src:`${x}${n.company_logo_en}`},null)])]):e("div",{style:"width:100px;height:100px;"},[e("div",{class:"squareItem2"},[e("img",{class:r.avatar,src:j},null)])]),e("div",{class:r.profile},[e(w,{to:`/exhibitors/${n.barcode}`},{default:()=>[e("h4",null,[i.isEn?n.companyname_en:n.companyname_cn])]}),e("div",{class:"text_gray"},[i.isEn?n.company_introduction_en:n.company_introduction])])])])}}}}});export{Ae as default};
