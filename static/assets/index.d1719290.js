import{u as A,L as F,I}from"./index.03db05d1.js";import{P as V}from"./index.92f8a730.js";import{M as f}from"./MainSectionHead.2bea932f.js";import{u as T}from"./ConferenceStore.af1b1972.js";import{s as l}from"./index.module.6e348a91.js";import{e as y,F as M,p as D,m as g}from"./ant-design-vue.f58d1dfe.js";import{u as N}from"./vue-i18n.91e137c0.js";import{d as O}from"./vue-router.3cf61558.js";import{_ as H}from"./vue-clipboard3.86b1c20a.js";import{d as P,o as R,j as z,l as _,c as h,k as e,u as S,i as W,F as $}from"./@vue.5a203696.js";import{z as q}from"./@ant-design.28314839.js";import"./moment.29305b8e.js";import"./nprogress.dae1515a.js";import"./axios.7aed06b8.js";import"./@babel.a04268fa.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.e58a7599.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.e6447313.js";import"./source-map.3671d69c.js";import"./vue.a418a381.js";import"./@ctrl.2e36ce53.js";import"./xgplayer.cbbd1d6d.js";import"./clipboard.70edc34b.js";function c(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!W(r)}const B=M.useForm;var Se=P({name:"ConferenceDetail",props:{id:{type:Number,required:!0}},setup(r){var j,b;const{t:a}=N();let{conferenceStore:i}=T(),{authenStore:p}=A(),{toClipboard:x}=H();const w=async()=>{try{await x(window.location.href),D.success({message:a("common.copied")})}catch(t){console.error(t)}};R(()=>{i.getActivityContentDetail(r.id),p.token&&i.checkInSchedule(r.id).then(t=>n.isAdded=t)});let o=z(()=>i.currentDetail);_();const n=h({rate:3,content:"",Action:"1",barcode:(b=(j=p.user)==null?void 0:j.barcode)!=null?b:"",Type:"2",SubscribeId:"",activitycontentid:"",isAdded:void 0}),C=h({});B(n,C),_(a("conference.rateValues").split(","));async function L(){try{await i.addToSchedule(r.id)==="ok"&&g.success(a("common.success"))}catch(t){t.message==="error_msg_02"&&g.error("")}}function k(t){return t?t.toString().indexOf("lm.enewie.com")>0?e("iframe",{src:t,class:"specialWidthVideo"},null):e(V,{video:t},null):e("p",null,null)}return()=>{var v;let t,d,u,m;return o.value?e($,null,[e(f,{redLead:!1},null),e("img",{src:o.value.activityCoverPicture,class:"specialWidthImage mg_b_20 cursor_normal"},null),e("div",{class:"pd_20 bg_white"},[e("div",{class:"fl_right"},[e(q,{class:"pd_r_10 cursor_hand",onClick:w},null)]),e("h3",null,[o.value.title]),e("div",{class:"text_gray mg_tb_20",innerHTML:o.value.content},null),e("p",null,[e(I,{type:"icon-clock"},null),S(" "),o.value.begindate.split(" ")[0],S(" "),o.value.time]),e("hr",null,null),n.isAdded===!1&&e(y,{type:"primary",onClick:L},c(t=a("conference.addTo"))?t:{default:()=>[t]}),n.isAdded===!0&&e(y,null,c(d=a("conference.added"))?d:{default:()=>[d]})]),e(f,{redLead:!0},c(u=a("conference.playback"))?u:{default:()=>[u]}),k(`${o.value.content_video}`),e(f,{redLead:!0},c(m=a("conference.speaker"))?m:{default:()=>[m]}),e("div",{class:l.contactList},[(v=o.value.speakers)==null?void 0:v.map(s=>e("div",{key:s.id,class:l.contactListItem},[e("img",{class:l.avatar,src:s.picture},null),e("div",{class:l.profile},[e(O,{to:`/speakers/${s.id}`},{default:()=>[e("h4",null,[s.name])]}),e("div",{class:"text_gray"},[s.company]),e("div",{class:"text_gray"},[s.title])])]))])]):e(F,null,null)}}});export{Se as default};
