import{c as g,u as S,a as w}from"./index.fb345625.js";import{b as _}from"./BussinessCardStore.f764d4f4.js";import{I as B,A as k,f as E,N as p,V as b,X as f,C as z,m as h}from"./ant-design-vue.fcf1ac88.js";import{u as x}from"./vue-i18n.1e3f796f.js";import{d as I,k as s,l as A,o as D,i as N}from"./@vue.ca0c2fb5.js";import"./@rpdg.9741c2f9.js";import"./vue-router.b7316d96.js";import"./moment.29305b8e.js";import"./@ant-design.45c2fd2e.js";import"./@ctrl.2e36ce53.js";import"./nprogress.35503c85.js";import"./axios.7aed06b8.js";import"./@babel.a04268fa.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.647f38fa.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.19fb0a11.js";import"./source-map.e9534891.js";import"./vue.08638ec1.js";const O="_cardImg_zenez_1",V="_label_zenez_8",T="_name_zenez_12";var j={cardImg:O,label:V,name:T},v=I({name:"BusinessCard",props:{card:{type:Object,required:!0},isEn:{type:Boolean,default:!0}},setup(r){const{card:t,isEn:a}=r;return()=>s("div",null,[s(B,{src:g(`Data/BusinessCard/${t.barcode}.jpg`),class:j.cardImg},null),s("div",{class:j.label},[s(k,{src:g(t.company_logo)},null),s("span",{class:j.name},[a?t.firstname+" "+t.lastname:t.lastname_cn+t.firstname_cn])])])}});function o(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!N(r)}var ds=I({name:"BusinessCardSection",setup(){const{t:r}=x(),{appStore:t}=w(),a=A([]),{authenStore:y}=S();D(async()=>{a.value=await _.getList()});async function C(){var n;y.user!=null&&(await _.downloadBusinessCard((n=y.user)==null?void 0:n.barcode),h.info(r("myItb.dockIcons.businessSentTip")))}return()=>{let n,i,l,d,c,u,m;return s(z,{title:r("myItb.dockIcons.business")},{default:()=>[s(E,{type:"primary",onClick:C},o(n=r("myItb.dockIcons.businessDownload"))?n:{default:()=>[n]}),s(p,{style:"border-color: #ab2b2f"},null),s(b,{color:"red"},o(i=r("myItb.dockIcons.exhibitor"))?i:{default:()=>[i]}),s("div",{class:"gridCols2"},[s(f,null,o(l=a.value.filter(e=>e.barcode.substr(0,1)==="1"||e.barcode.substr(0,1)==="4"||e.barcode.substr(0,1)==="7").map(e=>s(v,{card:e,isEn:t.isEn},null)))?l:{default:()=>[l]})]),s(p,{style:"border-color: #ab2b2f",dashed:!0},null),s(b,{color:"red"},o(d=r("myItb.dockIcons.buyer"))?d:{default:()=>[d]}),s("div",{class:"gridCols2"},[s(f,null,o(c=a.value.filter(e=>e.barcode.substr(0,1)==="2").map(e=>s(v,{card:e,isEn:t.isEn},null)))?c:{default:()=>[c]})]),s(p,{style:"border-color: #ab2b2f",dashed:!0},null),s(b,{color:"red"},o(u=r("myItb.dockIcons.visitor"))?u:{default:()=>[u]}),s("div",{class:"gridCols2"},[s(f,null,o(m=a.value.filter(e=>e.barcode.substr(0,1)==="3").map(e=>s(v,{card:e,isEn:t.isEn},null)))?m:{default:()=>[m]})])]})}}});export{ds as default};
