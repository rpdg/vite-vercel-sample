import{s as o,L as x,a as P}from"./index.8bb54af3.js";import{F as c,b as m,x as _,f as T,M as L,S as I,y as R}from"./ant-design-vue.fcf1ac88.js";import{u as f}from"./vue-i18n.1e3f796f.js";import{a as F,u as O,d as b}from"./vue-router.b7316d96.js";import{u as W,a as h}from"./index.fb345625.js";import{A as $,O as z}from"./@ant-design.45c2fd2e.js";import{d as j,l as C,c as p,k as e,i as v,B as U,j as H,F as V,u as q}from"./@vue.ca0c2fb5.js";import{S as A}from"./index.7e060d8f.js";import{p as E,a as N}from"./02.f548825a.js";import"./@babel.a04268fa.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.647f38fa.js";import"./moment.29305b8e.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.19fb0a11.js";import"./nprogress.35503c85.js";import"./source-map.e9534891.js";import"./vue.08638ec1.js";import"./@rpdg.9741c2f9.js";import"./axios.7aed06b8.js";import"./@ctrl.2e36ce53.js";function w(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Object]"&&!v(s)}var B=j({name:"Login_PasswordForm",setup(){const{authenStore:s}=W(),{appStore:g}=h(),d=F(),i=O(),{t:a}=f({useScope:"global"}),r=C(),t=p({username:"",password:"",agreed:!0}),y=p({username:[{required:!0,message:a("login.usernameTip"),trigger:"change"}],password:[{required:!0,message:a("login.passwordTip"),trigger:"change"}]});async function k(){var l,u;try{await r.value.validate(),await s.loginWithPassword(U(t)),i.push((u=(l=d.query)==null?void 0:l.redirect)!=null?u:"/home")}catch(n){let S=n.message;L.error({content:a(S==="Username or password error"?"login.login_error1":"login.login_error2"),okText:a("login.okbtn")})}}return()=>{let l,u;return e(c,{ref:r,model:t,rules:y},{default:()=>[e(c.Item,{name:"username"},{default:()=>[e(m,{value:t.username,"onUpdate:value":n=>t.username=n,placeholder:a("login.username")},{prefix:()=>e($,{style:"color: rgba(0, 0, 0, 0.25)"},null)})]}),e(c.Item,{name:"password"},{default:()=>[e(m,{type:"password",value:t.password,"onUpdate:value":n=>t.password=n,placeholder:a("login.password")},{prefix:()=>e(z,{style:"color: rgba(0, 0, 0, 0.25)"},null)})]}),e(c.Item,{name:"agreed"},{default:()=>[e(_,{checked:t.agreed,"onUpdate:checked":n=>t.agreed=n},{default:()=>[e(b,{to:g.isEn?"/agreementEn":"/agreement"},w(l=a("login.agreeTip"))?l:{default:()=>[l]})]})]}),e(c.Item,null,{default:()=>[e(T,{type:"primary",block:!0,disabled:!t.agreed,loading:s.loading,onClick:k},w(u=a("login.login"))?u:{default:()=>[u]})]})]})}}}),M="/assets/00.937670f9.png";function D(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Object]"&&!v(s)}var ye=j({name:"Login",setup(){const{t:s}=f({useScope:"global"}),{appStore:g}=h(),d=H(()=>g.isEn?"en":"cn"),i=p({loginWithPassword:!0});function a(r){i.loginWithPassword=r}return()=>{let r;return e(P,null,{default:()=>[e("div",{class:o.outer},[e("div",{class:o.padding},[e(x,null,null)]),e("div",{class:o.form},[e("h3",null,[s("login.loginForm")]),e("div",{class:o.tabs},[e("div",{class:i.loginWithPassword?o.curTab:"",onClick:()=>{a(!0)}},[e("span",null,[s("login.passwordLogin")])]),e("div",{class:i.loginWithPassword?"":o.curTab,onClick:()=>{a(!1)}},[e("span",null,[s("login.smsLogin")])])]),i.loginWithPassword?e(B,null,null):e(A,null,null),e("br",null,null),e("br",null,null),e("h3",null,[s("login.fastPass_description")]),e(b,{to:"/fastPass",class:o.none_underline},{default:()=>[e("div",{class:o.signPic,style:{backgroundImage:`url(${M})`,backgroundSize:"100% 100%",maxHeight:"60px"}},[s("login.fastPass")])]}),e("a",{target:"_blank",href:`http://reg.itb-china.com/Pages/web/tradeVisitorsRegister.shtml?language=${d.value}`,class:o.none_underline},[e("div",{class:o.signPic,style:{backgroundImage:`url(${E})`,backgroundSize:"100% 100%",maxHeight:"60px"}},[s("login.visitor")])]),e("a",{target:"_blank",href:`http://reg.itb-china.com/Pages/web/buyerRegister.shtml?language=${d.value}`,class:o.none_underline},[e("div",{class:o.signPic,style:{backgroundImage:`url(${N})`,backgroundSize:"100% 100%",maxHeight:"60px"}},[s("login.buyer")])])]),e("div",{class:o.padding},[e(I,{size:10},{default:()=>[e("p",{class:o.registTip},[e(R,{title:e(V,null,[e("span",null,[s("login.forgotTips")]),e("a",{href:"http://reg.itb-china.com",style:"color:white",target:"_blank"},[q("http://reg.itb-china.com")]),e("span",null,[s("login.forgotTips2")])])},D(r=s("login.forgotPassword"))?r:{default:()=>[r]})])]})])])]})}}});export{ye as default};
