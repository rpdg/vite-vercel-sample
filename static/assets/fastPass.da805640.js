import{s as n,L as y,a as T}from"./index.318c1d04.js";import{u as k,a as I}from"./index.3f2ac436.js";import{v as S}from"./@rpdg.e35df5be.js";import{F as i,b as m,x,g as R,M as c}from"./ant-design-vue.a99caae8.js";import{u as U}from"./vue-i18n.df730e9c.js";import{u as q,d as f}from"./vue-router.85e08d32.js";import{d as w,l as N,c as b,k as e,i as _,B as L}from"./@vue.f0a33739.js";import"./HomeStore.75564288.js";import"./moment.29305b8e.js";import"./@ant-design.dd8d38e4.js";import"./@ctrl.2e36ce53.js";import"./nprogress.35503c85.js";import"./axios.7aed06b8.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.647f38fa.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.19fb0a11.js";import"./source-map.e9534891.js";import"./vue.e0a06ef1.js";function p(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!_(a)}var se=w({name:"FastPass",setup(){const{t:a}=U({useScope:"global"}),{authenStore:d}=k(),{appStore:u}=I(),j=q(),g=N(),t=b({firstname:"",lastname:"",mobile:"",mail:"",company:"",jobtitle:"",agreed:!1}),v=b({firstname:[{required:!0,message:a("login.firstNameTip"),trigger:"change"}],lastname:[{required:!0,message:a("login.lastNameTip"),trigger:"change"}],mobile:[{required:!0,message:a("login.phoneTip"),trigger:"change"},{validator:(o,s,r)=>{s&&!S(s)&&r(a("login.phoneTip2")),r()},trigger:"blur"}],mail:[{required:!0,message:a("login.emailTip"),trigger:"change"},{type:"email",message:a("login.emailTip2"),trigger:"blur"}],company:[{required:!0,message:a("login.companyTip"),trigger:"change"}],jobtitle:[{required:!0,message:a("login.jobTitleTip"),trigger:"change"}]});async function h(){try{await g.value.validate();let o=L(t);u.isEn?o.lastname=o.firstname+o.lastname:o.lastname=o.firstname+" "+o.lastname,o.firstname="",await d.fastRegist(o),c.success({content:a("login.fastPass_OK"),okText:a("login.okbtn"),onOk:()=>{j.push("/login")}})}catch(o){let s=o.message.split("|");c.error({content:s[u.isEn?0:1],okText:a("login.okbtn")})}}return()=>{let o,s,r;return e(T,null,{default:()=>[e("div",{class:n.outer},[e("div",{class:n.padding},[e(y,null,null)]),e("div",{class:`${n.form} ${n.regForm}`},[e("h1",null,[a("login.fastPass")]),e("p",{style:"color:red;"},[a("login.fastpasstips")]),e(i,{ref:g,model:t,rules:v},{default:()=>[e(i.Item,{name:"firstname"},{default:()=>[e(m,{value:t.firstname,"onUpdate:value":l=>t.firstname=l,placeholder:a("login.firstName")},null)]}),e(i.Item,{name:"lastname"},{default:()=>[e(m,{value:t.lastname,"onUpdate:value":l=>t.lastname=l,placeholder:a("login.lastName")},null)]}),e(i.Item,{name:"mobile"},{default:()=>[e(m,{value:t.mobile,"onUpdate:value":l=>t.mobile=l,placeholder:a("login.phone")},null)]}),e(i.Item,{name:"mail"},{default:()=>[e(m,{value:t.mail,"onUpdate:value":l=>t.mail=l,placeholder:a("login.email")},null)]}),e(i.Item,{name:"company"},{default:()=>[e(m,{value:t.company,"onUpdate:value":l=>t.company=l,placeholder:a("login.company")},null)]}),e(i.Item,{name:"jobtitle"},{default:()=>[e(m,{value:t.jobtitle,"onUpdate:value":l=>t.jobtitle=l,placeholder:a("login.jobTitle")},null)]}),e(i.Item,{name:"agreed"},{default:()=>[e(x,{checked:t.agreed,"onUpdate:checked":l=>t.agreed=l},{default:()=>[e(f,{to:u.isEn?"/agreementEn":"/agreement"},p(o=a("login.agreeTip"))?o:{default:()=>[o]})]})]}),e(i.Item,null,{default:()=>[e(R,{type:"primary",block:!0,disabled:!t.agreed,loading:d.loading,onClick:h},p(s=a("login.login"))?s:{default:()=>[s]})]})]})]),e("div",{class:n.padding},[e("p",{class:n.registTip},[e(f,{to:"/login"},p(r=a("login.loginTip"))?r:{default:()=>[r]})])])])]})}}});export{se as default};
