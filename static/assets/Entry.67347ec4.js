import{S as a}from"./Config.87ac60ee.js";import{u as U,r as z,U as p,a as W}from"./index.c8d3a08d.js";import{C as A}from"./CalendarStore.4b5d0bc1.js";import{u as F}from"./MeetingStore.c55b8f82.js";import{d as g}from"./avator_red.2a3a1020.js";import{d as f}from"./itb_logo_gray.5050f3d7.js";import{S as u,e as x,h as N,m as v}from"./ant-design-vue.938704eb.js";import{h as R}from"./moment.29305b8e.js";import{u as T}from"./vue-i18n.6a1efd87.js";import{d as c}from"./vue-router.b758f417.js";import{d as L,k as i,F as V,i as B}from"./@vue.6f7c75f1.js";const P="_contentWrap_1wu7g_1",G="_content_1wu7g_1",J="_img_c1_1wu7g_10",K="_c2_1wu7g_21",Q="_img_c2_1wu7g_26",X="_c4_1wu7g_42",Z="_img_c4_1wu7g_49",ee="_logo_1wu7g_65",ie="_logotext_1wu7g_70",te="_divline_1wu7g_77",le="_divline2_1wu7g_83",se="_btnMeeting_1wu7g_89",oe="_enewie_1wu7g_93",ne="_code_1wu7g_97";var t={contentWrap:P,content:G,img_c1:J,c2:K,img_c2:Q,c4:X,img_c4:Z,logo:ee,logotext:ie,divline:te,divline2:le,btnMeeting:se,enewie:oe,code:ne};function $(b){return typeof b=="function"||Object.prototype.toString.call(b)==="[object Object]"&&!B(b)}var ve=L({props:{detailedMapItem:{type:Object,required:!1}},setup(b){const{t:n}=T(),{appStore:d}=W(),{authenStore:_}=U(),{detailedMapItem:o}=b,{meetingStore:I}=F();let h=-1;z.currentRoute.value.fullPath.indexOf("virtual")>=0?h=1:h=0;function M(e){return!e||e.indexOf("http://")===0||e.indexOf("https://")===0?e:`${a}${e.replace(/\\/g,"/")}`}function w(e,l){let r;return i("div",{style:"width:100%"},[i("div",null,[i(u,{size:50},{default:()=>[i(c,{to:e.list[0].exhibition_barcode.substr(0,1)==="7"?`/exhibitors/${e.list[0].e_parent_barcode}`:`/exhibitors/${e.list[0].exhibition_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2 "},[e.list[0].e_logoUrl!=null&&e.list[0].e_logoUrl!=""?i("img",{src:`${a}${e.list[0].e_logoUrl}`},null):i("img",{src:f},null)])])]}),i("div",{class:t.divline},null),e.list.map((s,m)=>i(c,{to:`/buyer/${s.buyer_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2 "},[s.b_company_logo!=null&&s.b_company_logo!=""?i("img",{src:`${a}${s.b_company_logo}`},null):i("img",{src:f},null)])])]}))]})]),i("div",null,[i(u,{size:50},{default:()=>[i("div",{class:t.logotext},[d.isEn?e.list[0].e_company:e.list[0].e_company_cn]),i("div",{class:t.divline2},null),e.list.map((s,m)=>i("div",{class:t.logotext},[d.isEn?s.b_company:s.b_company_cn]))]})]),i("p",null,null),i("div",null,[i(u,{size:50},{default:()=>[i(c,{to:e.list[0].exhibition_barcode.substr(0,1)==="7"?`/exhibitors/${e.list[0].e_parent_barcode}/contact/${e.list[0].exhibition_barcode}`:`/exhibitors/${e.list[0].exhibition_barcode}/contact/${e.list[0].exhibition_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2"},[e.list[0].e_headimageurl!=null&&e.list[0].e_headimageurl!=""?i("img",{src:`${a}${e.list[0].e_headimageurl}`},null):i("img",{src:g},null)])])]}),i("div",{class:t.divline},null),e.list.map((s,m)=>i(c,{to:`/buyer/${s.buyer_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2 "},[s.b_headimageurl!=null&&s.b_headimageurl!=""?i("img",{src:`${a}${s.b_headimageurl}`},null):i("img",{src:g},null)])])]}))]})]),i("div",null,[i(u,{size:50},{default:()=>[i("div",{class:t.logotext},[d.isEn?e.list[0].e_firstname+" "+e.list[0].e_lastname:e.list[0].e_lastname_cn+e.list[0].e_firstname_cn]),i("div",{class:t.divline2},null),e.list.map((s,m)=>i("div",{class:t.logotext},[d.isEn?s.b_firstname+" "+s.b_lastname:s.b_lastname_cn+s.b_firstname_cn]))]})]),i("div",{class:t.btnMeeting},[e.metting_pwd!=null&&e.metting_pwd!=""?i("span",{class:`text_red text_bold ${t.enewie}`},[n("calendar.meeting.meeting_pwd")+" ",e.metting_pwd]):i("span",{class:`text_red text_bold ${t.enewie}`},null),l==="byItb"?i(x,{type:"primary",class:t.enewie,onClick:()=>D(C(e))},$(r=n("calendar.meeting.delete"))?r:{default:()=>[r]}):i("span",null,null)])])}function S(e){let l=M(e.activity_coverpicture);return i(c,{to:`/Conference/${e.activity_content_id}`},{default:()=>[i("div",{class:t.img_c1,style:{backgroundImage:`url(${l})`}},null)]})}function Y(e){let l,r;return i("div",{style:"width:100%"},[i("div",null,[i(u,{size:50},{default:()=>[i(c,{to:e.exhibition_barcode.substr(0,1)==="7"?`/exhibitors/${e.e_parent_barcode}`:`/exhibitors/${e.exhibition_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2 "},[e.e_logoUrl!=null&&e.e_logoUrl!=""?i("img",{src:`${a}${e.e_logoUrl}`},null):i("img",{src:f},null)])])]}),i("div",{class:t.divline},null),e.buyer_barcode.substr(0,1)==="1"||e.buyer_barcode.substr(0,1)==="4"||e.buyer_barcode.substr(0,1)==="7"?i(c,{to:e.buyer_barcode.substr(0,1)==="7"?`/exhibitors/${e.b_parent_barcode}`:`/exhibitors/${e.buyer_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2 "},[e.b_company_logo!=null&&e.b_company_logo!=""?i("img",{src:`${a}${e.b_company_logo}`},null):i("img",{src:f},null)])])]}):i(c,{to:`/buyer/${e.buyer_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2 "},[e.b_company_logo!=null&&e.b_company_logo!=""?i("img",{src:`${a}${e.b_company_logo}`},null):i("img",{src:f},null)])])]})]})]),i("div",null,[i(u,{size:50},{default:()=>[i("div",{class:t.logotext},[d.isEn?e.e_company:e.e_company_cn]),i("div",{class:t.divline2},null),i("div",{class:t.logotext},[d.isEn?e.b_company:e.b_company_cn])]})]),i("p",null,null),i("div",null,[i(u,{size:50},{default:()=>[i(c,{to:e.exhibition_barcode.substr(0,1)==="7"?`/exhibitors/${e.e_parent_barcode}/contact/${e.exhibition_barcode}`:`/exhibitors/${e.exhibition_barcode}/contact/${e.exhibition_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2"},[e.e_headimageurl!=null&&e.e_headimageurl!=""?i("img",{src:`${a}${e.e_headimageurl}`},null):i("img",{src:g},null)])])]}),i("div",{class:t.divline},null),e.buyer_barcode.substr(0,1)==="1"||e.buyer_barcode.substr(0,1)==="4"||e.buyer_barcode.substr(0,1)==="7"?i(c,{to:e.buyer_barcode.substr(0,1)==="7"?`/exhibitors/${e.b_parent_barcode}`:`/exhibitors/${e.buyer_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2 "},[e.b_headimageurl!=null&&e.b_headimageurl!=""?i("img",{src:`${a}${e.b_headimageurl}`},null):i("img",{src:g},null)])])]}):i(c,{to:`/buyer/${e.buyer_barcode}`},{default:()=>[i("div",{class:t.logo},[i("div",{class:"squareItem2 "},[e.b_headimageurl!=null&&e.b_headimageurl!=""?i("img",{src:`${a}${e.b_headimageurl}`},null):i("img",{src:g},null)])])]})]})]),i("div",null,[i(u,{size:50},{default:()=>[i("div",{class:t.logotext},[d.isEn?e.e_firstname+" "+e.e_lastname:e.e_lastname_cn+e.e_firstname_cn]),i("div",{class:t.divline2},null),i("div",{class:t.logotext},[d.isEn?e.b_firstname+" "+e.b_lastname:e.b_lastname_cn+e.b_firstname_cn])]})]),i("div",{class:t.btnMeeting},[i(x,{type:"primary",class:t.enewie,onClick:E},$(l=n("calendar.meeting.accept"))?l:{default:()=>[l]}),i(x,{class:t.enewie,onClick:H},$(r=n("calendar.meeting.deny"))?r:{default:()=>[r]})])])}function C(e){var r;let l=0;return e.list[0].exhibition_barcode===((r=_.user)==null?void 0:r.barcode)?Number(e.id):(e.list.map(s=>{var m;s.buyer_barcode===((m=_.user)==null?void 0:m.barcode)&&(l=Number(s.id))}),l)}function j(e){if(e.type==="byItb"||e.type==="byMe"){let l=e.entry;return w(l,e.type)}else if(e.type==="conference"){let l=e.entry;return S(l)}else{let l=e.entry;return Y(l)}}function k(e){return i("div",{class:t.content},[e.metting_title])}function O(e){return i("div",{class:t.content},[i("b",null,[e.activity_title]),i("br",null,null),e.actitivity_content_title,i("br",null,null),e.location])}function q(e){}function y(e){if(e.type==="byItb"||e.type==="byMe"){let l=e.entry;return k(l)}else if(e.type==="conference"){let l=e.entry;return O(l)}else return e.entry,q()}function D(e){N.confirm({content:i("div",null,[n("calendar.meeting.comfirm_title")]),onOk:async()=>{try{await I.deleteMeeting(e,h)?(v.success(n("common.success")),location.reload()):v.error(n("common.failed"))}catch(l){switch(l.message){case"error_msg_01":case"error_msg_02":case"error_msg_03":v.error(n(`calendar.delete_meeting_errors.${l.message}`));break;default:v.error(l.message)}}},okText:n("calendar.blockTime.confirm_okbtn"),onCancel:()=>{},cancelText:n("calendar.blockTime.confirm_cancelbtn")})}function H(){}function E(){}return()=>i(V,null,[o&&i("div",{class:"pd_20"},[i("div",{class:"gridCols2"},[i("div",{class:"text_left",style:{color:A[o.color],fontWeight:600}},[n(`calendar.colors_map.${o.color}`)]),i("div",{class:"text_right"},[o.type==="unconfirmed"?p(o.entry.begin_datetime,_.minutesOffset,"YYYY-MM-DD HH:mm:ss")+" - "+p(o.entry.end_datetime,_.minutesOffset,"YYYY-MM-DD HH:mm:ss"):o.type==="conference"?R(o.entry.actitivity_content_begindate).format("YYYY-MM-DD")+" "+o.entry.actitivity_content_time:p(o.entry.begindate,_.minutesOffset,"YYYY-MM-DD HH:mm:ss")+" - "+p(o.entry.enddate,_.minutesOffset,"YYYY-MM-DD HH:mm:ss")])]),i("div",{class:`pd_tb_20 ${t.contentWrap}`},[j(o),y(o)]),i("hr",null,null)])])}});export{ve as E};
