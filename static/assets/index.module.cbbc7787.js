import{I as a,b as s,M as d,r as S,c as O}from"./index.1d3976e6.js";import{u as B}from"./FavouriteStore.c45f938a.js";import{J as y}from"./@rpdg.8b8261fd.js";import{h as I,n as c,r as _,m}from"./ant-design-vue.3c113ab5.js";import{_ as w}from"./vue-clipboard3.5287e840.js";import{u as x}from"./vue-i18n.f56f8be1.js";import{d as F,l as T,c as E,I as N,k as t,i as G,F as K}from"./@vue.b2913f50.js";function b(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!G(e)}var X=F({name:"ContactToolbar",props:{user:{type:Object,required:!0}},setup(e){const{t:o}=x();let{toClipboard:v}=w(),{favoriteStore:r}=B();const{chatStore:f}=O();async function g(){try{await v(window.location.href),_.success({message:o("common.copied")})}catch(i){console.error(i)}}const l=T(!1);function h(){f.chatWith(e.user),f.sendChattingMessage("",6),_.success({message:o("myItb.chat.request_business_card_successfully")})}function p(){m.info(o("calendar.offline_btn_info"))}let n=E({visibility:!1,isOnlineMeeting:1});function C(){return s.role&&(s.role==="buyer"||s.role==="exhibition")?s.role==="exhibition"&&(e.user.employee_id.substr(0,1)==="2"||e.user.employee_id.substr(0,1)==="3")?!0:s.role==="buyer"&&(e.user.employee_id.substr(0,1)==="1"||e.user.employee_id.substr(0,1)==="4"||e.user.employee_id.substr(0,1)==="7"):!1}function j(){n.visibility=!1,e.user.IsOnline===1&&(n.visibility=!0),y.set(d,e.user)}function k(){var i;e.user.employee_id.substr(0,1)==="1"||e.user.employee_id.substr(0,1)==="4"||e.user.employee_id.substr(0,1)==="7"||((i=s.user)==null?void 0:i.roleName)==="exhibition"?(y.set(d,e.user),S.push("/schedule/1")):m.info(o("calendar.offline_btn_info2"))}return N(async()=>{l.value=await r.judge({type:0,foreignKey:e.user.employee_id})}),()=>{let i,u;return t(K,null,[t(I,{visible:n.visibility,title:o("calendar.select_type"),onOk:j,onCancel:()=>{n.visibility=!1}},{default:()=>[t(c.Group,{value:n.isOnlineMeeting,"onUpdate:value":M=>n.isOnlineMeeting=M},{default:()=>[t(c.Button,{key:"1",value:1},b(i=o("calendar.online"))?i:{default:()=>[i]}),t(c.Button,{key:"0",value:0},b(u=o("calendar.offline"))?u:{default:()=>[u]})]})]}),t(a,{type:"icon-namecard",onClick:h},null),t(a,{type:"icon-icon-test",onClick:p},null),C()&&t(a,{type:"icon-icon-test2",onClick:k},null),t(a,{type:"icon-icon-test1",onClick:g},null),l.value?t(a,{type:"icon-collection-fill",onClick:async()=>{await r.delete({type:0,foreignKey:e.user.employee_id}),l.value=!1}},null):t(a,{type:"icon-collection",onClick:async()=>{await r.add({type:0,foreignKey:e.user.employee_id}),l.value=!0}},null)])}}});const q="_item_10mhg_1",A="_avatar_10mhg_6",J="_profile_10mhg_15",R="_iconBar_10mhg_19",V="_avatar_special_10mhg_36",L="_iconfontcolor_10mhg_41";var Y={item:q,avatar:A,profile:J,iconBar:R,avatar_special:V,iconfontcolor:L};export{X as C,Y as s};
