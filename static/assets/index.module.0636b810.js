import{I as o,J as f,M as d,r as y,c as j,d as k,a as S}from"./index.388fe986.js";import{u as I}from"./FavouriteStore.3719bffd.js";import{n as O,j as u,p as _}from"./ant-design-vue.034afe85.js";import{_ as w}from"./vue-clipboard3.ca4b4e55.js";import{u as B}from"./vue-i18n.0711e616.js";import{d as F,l as T,c as E,I as G,k as t,i as K,F as N}from"./@vue.fa05379c.js";function m(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!K(e)}var H=F({name:"ContactToolbar",props:{user:{type:Object,required:!0}},setup(e){const{t:i}=B();let{toClipboard:p}=w(),{favoriteStore:l}=I();const{chatStore:c}=k(),{appStore:v}=S();async function g(){try{await p(window.location.href),_.success({message:i("common.copied")})}catch(n){console.error(n)}}const s=T(!1);function h(){c.chatWith(e.user),c.sendChattingMessage("",6),_.success({message:i("myItb.chat.request_business_card_successfully")})}function b(){v.myItbModule=j.Chat,c.chatWith(e.user)}let a=E({visibility:!1,isOnlineMeeting:1});function C(){a.visibility=!1,f.set(d,e.user),y.push(`/schedule/${a.isOnlineMeeting}`)}return G(async()=>{s.value=await l.judge({type:0,foreignKey:e.user.employee_id})}),()=>{let n,r;return t(N,null,[t(O,{visible:a.visibility,title:i("calendar.select_type"),onOk:C,onCancel:()=>{a.visibility=!1}},{default:()=>[t(u.Group,{value:a.isOnlineMeeting,"onUpdate:value":M=>a.isOnlineMeeting=M},{default:()=>[t(u.Button,{key:"1",value:1},m(n=i("calendar.online"))?n:{default:()=>[n]}),t(u.Button,{key:"0",value:0},m(r=i("calendar.offline"))?r:{default:()=>[r]})]})]}),t(o,{type:"icon-namecard",onClick:h},null),t(o,{type:"icon-icon-test",onClick:b},null),t(o,{type:"icon-icon-test2",onClick:()=>{e.user.IsOnline===1?a.visibility=!0:(f.set(d,e.user),y.push("/schedule/0"))}},null),t(o,{type:"icon-icon-test1",onClick:g},null),s.value?t(o,{type:"icon-collection-fill",onClick:async()=>{await l.delete({type:0,foreignKey:e.user.employee_id}),s.value=!1}},null):t(o,{type:"icon-collection",onClick:async()=>{await l.add({type:0,foreignKey:e.user.employee_id}),s.value=!0}},null)])}}});const q="_item_10mhg_1",x="_avatar_10mhg_6",A="_profile_10mhg_15",J="_iconBar_10mhg_19",R="_avatar_special_10mhg_36",V="_iconfontcolor_10mhg_41";var P={item:q,avatar:x,profile:A,iconBar:J,avatar_special:R,iconfontcolor:V};export{H as C,P as s};
