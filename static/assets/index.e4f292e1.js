import{u as A,L as F,I}from"./index.25c5da6b.js";import{P as V}from"./index.4ce468e5.js";import{M as p}from"./MainSectionHead.dad211bc.js";import{u as T}from"./ConferenceStore.31cf9a00.js";import{s as c}from"./index.module.6e348a91.js";import{e as g,F as M,p as D,m as y}from"./ant-design-vue.33d5ec34.js";import{u as N}from"./vue-i18n.f56f8be1.js";import{d as O}from"./vue-router.82b024de.js";import{_ as H}from"./vue-clipboard3.5287e840.js";import{d as P,o as R,j as z,l as _,c as h,k as e,u as S,i as W,F as $}from"./@vue.b2913f50.js";import{z as q}from"./@ant-design.8ced1675.js";import"./@rpdg.8b8261fd.js";import"./moment.29305b8e.js";import"./nprogress.9dcdc490.js";import"./axios.7aed06b8.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.e58a7599.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.e28dde39.js";import"./source-map.e9534891.js";import"./vue.7093eef6.js";import"./@ctrl.2e36ce53.js";import"./xgplayer.7c524c7c.js";import"./clipboard.8b2d5081.js";function l(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!W(r)}const B=M.useForm;var xe=P({name:"ConferenceDetail",props:{id:{type:Number,required:!0}},setup(r){var j,b;const{t:s}=N();let{conferenceStore:a}=T(),{authenStore:f}=A(),{toClipboard:x}=H();const w=async()=>{try{await x(window.location.href),D.success({message:s("common.copied")})}catch(t){console.error(t)}};R(()=>{a.getActivityContentDetail(r.id),f.token&&a.checkInSchedule(r.id).then(t=>n.isAdded=t)});let o=z(()=>a.currentDetail);_();const n=h({rate:3,content:"",Action:"1",barcode:(b=(j=f.user)==null?void 0:j.barcode)!=null?b:"",Type:"2",SubscribeId:"",activitycontentid:"",isAdded:void 0}),C=h({});B(n,C),_(s("conference.rateValues").split(","));async function L(){try{await a.addToSchedule(r.id)==="ok"&&y.success(s("common.success"))}catch(t){t.message==="error_msg_02"&&y.error("")}}function k(t){return t?t.toString().indexOf("lm.enewie.com")>0?e("iframe",{src:t,class:"specialWidthVideo"},null):e(V,{video:t},null):e("p",null,null)}return()=>{var v;let t,d,u,m;return o.value?e($,null,[e(p,{redLead:!1},null),e("img",{src:o.value.activityCoverPicture,class:"specialWidthImage mg_b_20 cursor_normal"},null),e("div",{class:"pd_20 bg_white"},[e("div",{class:"fl_right"},[e(q,{class:"pd_r_10 cursor_hand",onClick:w},null)]),e("h3",null,[o.value.title]),e("div",{class:"text_gray mg_tb_20",innerHTML:o.value.content},null),e("p",null,[e(I,{type:"icon-clock"},null),S(" "),o.value.begindate.split(" ")[0],S(" "),o.value.time]),e("hr",null,null),n.isAdded===!1&&e(g,{type:"primary",onClick:L},l(t=s("conference.addTo"))?t:{default:()=>[t]}),n.isAdded===!0&&e(g,null,l(d=s("conference.added"))?d:{default:()=>[d]})]),e(p,{redLead:!0},l(u=s("conference.playback"))?u:{default:()=>[u]}),k(`${o.value.content_video}`),e(p,{redLead:!0},l(m=s("conference.speaker"))?m:{default:()=>[m]}),e("div",{class:c.contactList},[(v=o.value.speakers)==null?void 0:v.map(i=>e("div",{key:i.id,class:c.contactListItem},[e("img",{class:c.avatar,src:i.picture},null),e("div",{class:c.profile},[e(O,{to:`/speakers/${i.id}`},{default:()=>[e("h4",null,[i.name])]}),e("div",{class:"text_gray"},[i.company]),e("div",{class:"text_gray"},[i.title])])]))])]):e(F,null,null)}}});export{xe as default};
