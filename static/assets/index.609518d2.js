import{u as F,L as I,I as V,a as k}from"./index.9bd4e1af.js";import{P as T}from"./index.623875bb.js";import{M as f}from"./MainSectionHead.99c217de.js";import{u as M}from"./ConferenceStore.2962db59.js";import{s as c}from"./index.module.6e348a91.js";import{e as y,F as D,n as N,m as _}from"./ant-design-vue.f8ac2ba9.js";import{_ as O}from"./vue-clipboard3.ca4b4e55.js";import{u as E}from"./vue-i18n.df730e9c.js";import{d as H}from"./vue-router.85e08d32.js";import{d as R,o as $,j as P,l as h,c as S,k as e,u as W,i as q,F as z}from"./@vue.f0a33739.js";import{K as B}from"./@ant-design.a109b705.js";import"./@rpdg.e35df5be.js";import"./moment.29305b8e.js";import"./nprogress.35503c85.js";import"./axios.7aed06b8.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.647f38fa.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.19fb0a11.js";import"./source-map.e9534891.js";import"./vue.e0a06ef1.js";import"./@ctrl.2e36ce53.js";import"./xgplayer.1ae44471.js";import"./clipboard.18fc16a5.js";function d(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!q(a)}const K=D.useForm;var Le=R({name:"ConferenceDetail",props:{id:{type:Number,required:!0}},setup(a){var j,v;const{t:r}=E();let{conferenceStore:n}=M(),{authenStore:b}=F(),{toClipboard:x}=O();const{appStore:u}=k(),w=async()=>{try{await x(window.location.href),N.success({message:r("common.copied")})}catch(t){console.error(t)}};$(()=>{n.getActivityContentDetail(a.id),b.token&&n.checkInSchedule(a.id).then(t=>l.isAdded=t)});let s=P(()=>n.currentDetail);h();const l=S({rate:3,content:"",Action:"1",barcode:(v=(j=b.user)==null?void 0:j.barcode)!=null?v:"",Type:"2",SubscribeId:"",activitycontentid:"",isAdded:void 0}),L=S({});K(l,L),h(r("conference.rateValues").split(","));async function A(){try{await n.addToSchedule(a.id)==="ok"&&_.success(r("common.success"))}catch(t){t.message==="error_msg_02"&&_.error("")}}function C(t,i){return t?t.toString().indexOf("lm.enewie.com")>0?e("iframe",{src:t,class:"specialWidthVideo"},null):e(T,{video:t,poster:i},null):e("p",null,null)}return()=>{var g;let t,i,m,p;return s.value?e(z,null,[e(f,{redLead:!1},null),e("img",{src:s.value.bgcolor,class:"specialWidthImage mg_b_20 cursor_normal"},null),e("div",{class:"pd_20 bg_white"},[e("div",{class:"fl_right"},[e(B,{class:"pd_r_10 cursor_hand",onClick:w},null)]),e("h3",null,[s.value.title]),e("div",{class:"text_gray mg_tb_20",innerHTML:s.value.content},null),e("p",null,[e(V,{type:"icon-clock"},null),W(" "),s.value.begindate.split(" ")[0]]),e("hr",null,null),l.isAdded===!1&&e(y,{type:"primary",onClick:A},d(t=r("conference.addTo"))?t:{default:()=>[t]}),l.isAdded===!0&&e(y,null,d(i=r("conference.added"))?i:{default:()=>[i]})]),e(f,{redLead:!0},d(m=r("conference.playback"))?m:{default:()=>[m]}),C(`${s.value.content_video}`,`${s.value.bgcolor}`),e(f,{redLead:!0},d(p=r("conference.speaker"))?p:{default:()=>[p]}),e("div",{class:c.contactList},[(g=s.value.speakers)==null?void 0:g.map(o=>e("div",{key:o.id,class:c.contactListItem},[e("img",{class:c.avatar,src:o.picture},null),e("div",{class:c.profile},[e(H,{to:`/speakers/${o.id}`},{default:()=>[e("h4",null,[u.isEn?o.name.split("|")[0]:o.name.split("|")[1]])]}),e("div",{class:"text_gray"},[u.isEn?o.company.split("|")[0]:o.company.split("|")[1]]),e("div",{class:"text_gray"},[u.isEn?o.title.split("|")[0]:o.title.split("|")[1]])])]))])]):e(I,null,null)}}});export{Le as default};
