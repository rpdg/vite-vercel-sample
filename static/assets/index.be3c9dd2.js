import{S as g,a as _,I as v,L as U}from"./index.1e4cf29d.js";import{s as p,u as j}from"./index.module.5a93f653.js";import{m as $}from"./@rpdg.2a67823e.js";import{S as x,q as S,p as b,K as F}from"./ant-design-vue.5d68287d.js";import{d as A}from"./vue-router.c781243b.js";import{d as k}from"./itb_logo_gray.5050f3d7.js";import{d as f,l as L,k as e,o as R,w as M,i as w,F as y,c as O}from"./@vue.c3fad188.js";import{M as B}from"./MainSectionHead.7e49931e.js";import{u as T}from"./vue-i18n.97207468.js";import"./moment.29305b8e.js";import"./@ant-design.f49dba90.js";import"./@ctrl.2e36ce53.js";import"./nprogress.35503c85.js";import"./axios.7aed06b8.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.647f38fa.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.19fb0a11.js";import"./source-map.e9534891.js";import"./vue.f1721d35.js";var I=f({props:{exhibitor:{type:Object,required:!0},onClick:{type:Function,required:!1}},name:"ShowfloorIndex_Card",setup(o){var n;let{appStore:s}=_();L((n=o.exhibitor.company_logo)!=null?n:"");let a="";return s.isEn?o.exhibitor.company_logo_en!=null&&o.exhibitor.company_logo_en!=""?a=g+o.exhibitor.company_logo_en:o.exhibitor.company_logo!=null&&o.exhibitor.company_logo!=""?a=g+o.exhibitor.company_logo:a=k:o.exhibitor.company_logo!=null&&o.exhibitor.company_logo!=""?a=g+o.exhibitor.company_logo:o.exhibitor.company_logo_en!=null&&o.exhibitor.company_logo_en!=""?a=g+o.exhibitor.company_logo_en:a=k,()=>e("div",{class:p.card,onClick:o.onClick},[e("div",{class:"squareItem2"},[e("img",{src:a},null)]),e("div",{class:p.title},[s.isEn?o.exhibitor.companyname_en:o.exhibitor.companyname_cn])])}});function q(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!w(o)}var z=f({name:"Showfloor_SearchBar",setup(){const{t:o}=T();let{showfloorStore:s}=j(),{appStore:a}=_(),n=s.state;R(()=>{s.doSearchShowFloor({region:"",product:"",companyType:""})}),M([n],h);function h(){var u,d,r,l;n.iconIndex===0?s.doSearchShowFloor({region:(u=n.destination)!=null?u:"",product:(d=n.product)!=null?d:"",companyType:""}):n.iconIndex===1?s.doSearchShowFloor({region:(r=n.destination)!=null?r:"",product:"",companyType:(l=n.company)!=null?l:""}):n.iconIndex===2&&s.getExhibitor()}return()=>{let u;return e(y,null,[e(B,{redLead:!1},q(u=o("menu.showFloor"))?u:{default:()=>[u]}),e("div",{class:"bg_white pd_10"},[e(x,{size:15},{default:()=>{var d,r,l;return[n.iconIndex!=2&&e(S,{allowClear:!0,placeholder:o("showFloor.destination"),style:"width: 150px",value:n.destination,"onUpdate:value":t=>n.destination=t,options:(d=s.continentList)==null?void 0:d.map(t=>({value:a.isEn?t.chau_en:t.chau_cn}))},null),n.iconIndex===0&&e(S,{allowClear:!0,placeholder:o("showFloor.product"),style:{width:"300px"},value:n.product,"onUpdate:value":t=>n.product=t,options:(r=s.productTypes)==null?void 0:r.map(t=>({value:t.id,label:a.isEn?t.group_en:t.group_cn}))},null),n.iconIndex===1&&e(S,{allowClear:!0,placeholder:o("showFloor.company"),style:{width:"300px"},value:n.company,"onUpdate:value":t=>n.company=t,options:(l=s.companyTypes)==null?void 0:l.map(t=>({value:t.id,label:a.isEn?t.companytype_en:t.companytype_cn}))},null),e(b.Group,{value:n.iconIndex,"onUpdate:value":t=>n.iconIndex=t,class:"iconGroup"},{default:()=>[e(b.Button,{value:1},{default:()=>[e(v,{type:"icon-category"},null)]}),e(b.Button,{value:0},{default:()=>[e(v,{type:"icon-all"},null)]}),e(b.Button,{value:2},{default:()=>[e(v,{type:"icon-connections"},null)]})]})]}})])])}}});function H(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!w(o)}var V=f({name:"ShowfloorIndex_Results",setup(){let{appStore:o}=_(),{showfloorStore:s}=j();const a=L(),n="ABCDEFGHIJKLMNOPQRSTUVWXYZ#".split("");let h=O({});function u(r){var l;return(l=r.children)==null?void 0:l.map(t=>e("div",{class:"gridCols4"},[e("div",null,null),e(I,{exhibitor:t},null)]))}function d(r=!1){var m;let l={};(m=s.results)==null||m.forEach(c=>{var C,E;let i=o.isEn?(C=c.companyname_en)==null?void 0:C.substr(0,1).toLocaleUpperCase():c.companyname_cn?$((E=c.companyname_cn)==null?void 0:E.substr(0,1))[0].toLocaleUpperCase():"#";l[i]||(n.indexOf(i)===-1&&(i="#"),l[i]=[]),l[i].push(c)});let t=[];return n.forEach(c=>{l[c]&&(t.push(e(y,null,[e("p",{id:`#${c}`},[c]),e("hr",null,null)])),r?l[c].forEach(i=>t.push(e("div",{class:"bg_white mg_tb_20 pd_20"},[e("div",{class:"gridCols4"},[e(I,{exhibitor:i,onClick:()=>s.getExhibitorChildren(i)},null)]),u(i)]))):t.push(e("div",{class:"gridCols4 bg_white mg_t_20 pd_20"},[l[c].map(i=>e(A,{to:`/exhibitors/${i.barcode}`,target:"_blank"},{default:()=>[e(I,{exhibitor:i},null)]}))])))}),h=O(l),t}return()=>{let r;return e("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},[e("div",{style:{height:""}},[e(z,null,null),e("div",{class:"mg_t_20 bg_white",style:{height:"30px"}},[e(F,{bounds:0,affix:!1,getContainer:()=>a.value,onClick:(l,t)=>{if(l.preventDefault(),t.href){let m=document.getElementById(t.href);m&&m.scrollIntoView({block:"start"})}}},{default:()=>[e(x,{size:1},H(r=Object.keys(h).sort().map((l,t)=>e(F.Link,{key:`${l}-${t}`,title:l,href:`#${l}`},null)))?r:{default:()=>[r]})]})])]),e("div",{style:{flex:1,overflow:"auto"}},[e("div",{ref:"divScroll",class:"bg_white pd_20"},[s.loading?e(U,null,null):d(s.state.iconIndex===2)])])])}}}),D="/assets/sponsor1.8a9a03b9.jpg",G="/assets/sponsor2.b00447af.jpg",N="/assets/sponsor3.678752cd.jpg",K="/assets/sponsor4.9500a34a.jpg",P="/assets/sponsor5.facefc41.jpg";function J(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!w(o)}var Q=f({name:"ShowfloorIndex_Sponsor",setup(){const{t:o}=T();return j(),()=>{let s;return e(y,null,[e(B,{redLead:!1},J(s=o("showFloor.sponsors"))?s:{default:()=>[s]}),e("div",{class:"gridCols4 bg_white mg_t_20 pd_20"},[e(x,{size:20},{default:()=>[e("img",{class:p.sponsorImage,src:D},null),e("img",{class:p.sponsorImage,src:G},null),e("img",{class:p.sponsorImage,src:N},null),e("img",{class:p.sponsorImage,src:K},null),e("img",{class:p.sponsorImage,src:P},null)]})])])}}}),we=f({name:"ShowfloorIndex",setup(){return()=>e(y,null,[e(Q,null,null),e(V,null,null)])}});export{we as default};
