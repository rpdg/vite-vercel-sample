import{u as A,L as F,I}from"./index.bbac38a9.js";import{P as V}from"./index.f3744958.js";import{M as p}from"./MainSectionHead.743546ec.js";import{u as T}from"./ConferenceStore.5db9c832.js";import{s as c}from"./index.module.6e348a91.js";import{e as g,F as M,p as D,m as y}from"./ant-design-vue.14644436.js";import{u as N}from"./vue-i18n.532c4af8.js";import{d as O}from"./vue-router.8e73f157.js";import{_ as H}from"./vue-clipboard3.5ae8d1c7.js";import{d as P,o as R,j as z,l as _,c as h,k as e,u as S,i as W,F as $}from"./@vue.7a36ac42.js";import{z as q}from"./@ant-design.4b470cc8.js";import"./@rpdg.dab4d1a7.js";import"./moment.29305b8e.js";import"./nprogress.c26b133a.js";import"./axios.7aed06b8.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.e58a7599.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.9c0a92d2.js";import"./source-map.3671d69c.js";import"./vue.a54dcdd3.js";import"./@ctrl.2e36ce53.js";import"./xgplayer.dd911c20.js";import"./clipboard.682bb09e.js";function l(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!W(r)}const B=M.useForm;var xe=P({name:"ConferenceDetail",props:{id:{type:Number,required:!0}},setup(r){var j,b;const{t:a}=N();let{conferenceStore:i}=T(),{authenStore:f}=A(),{toClipboard:x}=H();const w=async()=>{try{await x(window.location.href),D.success({message:a("common.copied")})}catch(t){console.error(t)}};R(()=>{i.getActivityContentDetail(r.id),f.token&&i.checkInSchedule(r.id).then(t=>n.isAdded=t)});let o=z(()=>i.currentDetail);_();const n=h({rate:3,content:"",Action:"1",barcode:(b=(j=f.user)==null?void 0:j.barcode)!=null?b:"",Type:"2",SubscribeId:"",activitycontentid:"",isAdded:void 0}),C=h({});B(n,C),_(a("conference.rateValues").split(","));async function L(){try{await i.addToSchedule(r.id)==="ok"&&y.success(a("common.success"))}catch(t){t.message==="error_msg_02"&&y.error("")}}function k(t){return t?t.toString().indexOf("lm.enewie.com")>0?e("iframe",{src:t,class:"specialWidthVideo"},null):e(V,{video:t},null):e("p",null,null)}return()=>{var v;let t,d,u,m;return o.value?e($,null,[e(p,{redLead:!1},null),e("img",{src:o.value.activityCoverPicture,class:"specialWidthImage mg_b_20 cursor_normal"},null),e("div",{class:"pd_20 bg_white"},[e("div",{class:"fl_right"},[e(q,{class:"pd_r_10 cursor_hand",onClick:w},null)]),e("h3",null,[o.value.title]),e("div",{class:"text_gray mg_tb_20",innerHTML:o.value.content},null),e("p",null,[e(I,{type:"icon-clock"},null),S(" "),o.value.begindate.split(" ")[0],S(" "),o.value.time]),e("hr",null,null),n.isAdded===!1&&e(g,{type:"primary",onClick:L},l(t=a("conference.addTo"))?t:{default:()=>[t]}),n.isAdded===!0&&e(g,null,l(d=a("conference.added"))?d:{default:()=>[d]})]),e(p,{redLead:!0},l(u=a("conference.playback"))?u:{default:()=>[u]}),k(`${o.value.content_video}`),e(p,{redLead:!0},l(m=a("conference.speaker"))?m:{default:()=>[m]}),e("div",{class:c.contactList},[(v=o.value.speakers)==null?void 0:v.map(s=>e("div",{key:s.id,class:c.contactListItem},[e("img",{class:c.avatar,src:s.picture},null),e("div",{class:c.profile},[e(O,{to:`/speakers/${s.id}`},{default:()=>[e("h4",null,[s.name])]}),e("div",{class:"text_gray"},[s.company]),e("div",{class:"text_gray"},[s.title])])]))])]):e(F,null,null)}}});export{xe as default};
