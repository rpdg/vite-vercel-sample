import{u as C,L as A,I as F}from"./index.3be6f241.js";import{P as I}from"./index.773ef6d5.js";import{M as f}from"./MainSectionHead.b9e7274a.js";import{u as V}from"./ConferenceStore.973085b2.js";import{s as l}from"./index.module.6e348a91.js";import{e as b,F as k,m as g}from"./ant-design-vue.f84da452.js";import{u as T}from"./vue-i18n.0711e616.js";import{d as M}from"./vue-router.8ec3c3d8.js";import{d as D,o as N,j as H,l as y,c as _,k as e,u as h,i as O,F as P}from"./@vue.fa05379c.js";import"./moment.29305b8e.js";import"./@ant-design.2067dcee.js";import"./@ctrl.2e36ce53.js";import"./nprogress.35503c85.js";import"./axios.19d3e859.js";import"./@babel.a04268fa.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.e58a7599.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.0eca950e.js";import"./source-map.3671d69c.js";import"./vue.d22487d2.js";import"./xgplayer.1ae44471.js";function c(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!O(o)}const R=k.useForm;var je=D({name:"ConferenceDetail",props:{id:{type:Number,required:!0}},setup(o){var p,j;const{t:s}=T();let{conferenceStore:i}=V(),{authenStore:S}=C();N(()=>{i.getActivityContentDetail(o.id),i.checkInSchedule(o.id).then(t=>n.isAdded=t)});let r=H(()=>i.currentDetail);y();const n=_({rate:3,content:"",Action:"1",barcode:(j=(p=S.user)==null?void 0:p.barcode)!=null?j:"",Type:"2",SubscribeId:"",activitycontentid:"",isAdded:void 0}),x=_({});R(n,x),y(s("conference.rateValues").split(","));async function L(){try{await i.addToSchedule(o.id)==="ok"&&g.success(s("common.success"))}catch(t){t.message==="error_msg_02"&&g.error("")}}function w(t){return t?t.toString().indexOf("lm.enewie.com")>0?e("iframe",{src:t,class:"specialWidthVideo"},null):e(I,{video:t},null):e("p",null,null)}return()=>{var v;let t,d,u,m;return r.value?e(P,null,[e(f,{redLead:!1},null),e("img",{src:r.value.activityCoverPicture,class:"specialWidthImage mg_b_20 cursor_normal"},null),e("div",{class:"pd_20 bg_white"},[e("h3",null,[r.value.title]),e("div",{class:"text_gray mg_tb_20",innerHTML:r.value.content},null),e("p",null,[e(F,{type:"icon-clock"},null),h(" "),r.value.begindate.split(" ")[0],h(" "),r.value.time]),e("hr",null,null),n.isAdded===!0&&e(b,{type:"primary",onClick:L},c(t=s("conference.addTo"))?t:{default:()=>[t]}),n.isAdded===!1&&e(b,null,c(d=s("conference.added"))?d:{default:()=>[d]})]),e(f,{redLead:!0},c(u=s("conference.playback"))?u:{default:()=>[u]}),w(`${r.value.video}`),e(f,{redLead:!0},c(m=s("conference.speaker"))?m:{default:()=>[m]}),e("div",{class:l.contactList},[(v=r.value.speakers)==null?void 0:v.map(a=>e("div",{key:a.id,class:l.contactListItem},[e("img",{class:l.avatar,src:a.picture},null),e("div",{class:l.profile},[e(M,{to:`/speakers/${a.id}`},{default:()=>[e("h4",null,[a.name])]}),e("div",{class:"text_gray"},[a.company]),e("div",{class:"text_gray"},[a.title])])]))])]):e(A,null,null)}}});export{je as default};
