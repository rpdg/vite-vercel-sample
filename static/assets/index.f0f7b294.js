import{d as N,I as O,o as B,j as E,l as _,c as w,k as e,t as S,z as C,u as H,i as R,F as W}from"./@vue.c37eb56a.js";import{u as z,L as P,I as q,a as U}from"./index.2167a810.js";import{P as x}from"./index.db5c5af1.js";import{M as G}from"./MainSectionHead.644d549e.js";import{u as J}from"./ConferenceStore.85f6abea.js";import{s as u}from"./index.module.6e348a91.js";import{p as K,B as m,F as Q,n as X,m as A}from"./ant-design-vue.04da4757.js";import{_ as Y}from"./vue-clipboard3.ca4b4e55.js";import{u as Z}from"./vue-i18n.95ef2b18.js";import{d as ee}from"./vue-router.5ade7376.js";import{y as te}from"./@ant-design.b68099c7.js";import"./nprogress.35503c85.js";import"./@rpdg.c2e06738.js";import"./moment.29305b8e.js";import"./axios.7aed06b8.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.e58a7599.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.19fb0a11.js";import"./source-map.e9534891.js";import"./vue.9582b89e.js";import"./@ctrl.2e36ce53.js";import"./xgplayer.1ae44471.js";import"./clipboard.18fc16a5.js";function c(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!R(r)}const oe=Q.useForm;var $e=N({name:"ConferenceDetail",props:{id:{type:Number,required:!0}},setup(r){var j,y;const{t:a}=Z();let{conferenceStore:l}=J(),{authenStore:b}=z(),{toClipboard:k}=Y();const{appStore:f}=U(),I=async()=>{try{await k(window.location.href),X.success({message:a("common.copied")})}catch(t){console.error(t)}};O(()=>{l.getConferenceAdvertisement()}),B(()=>{l.getActivityContentDetail(r.id),b.token&&l.checkInSchedule(r.id).then(t=>d.isAdded=t)});let o=E(()=>l.currentDetail);_();const d=w({rate:3,content:"",Action:"1",barcode:(y=(j=b.user)==null?void 0:j.barcode)!=null?y:"",Type:"2",SubscribeId:"",activitycontentid:"",isAdded:void 0}),L=w({});oe(d,L),_(a("conference.rateValues").split(","));async function F(){try{await l.addToSchedule(r.id)==="ok"&&A.success(a("common.success"))}catch(t){t.message==="error_msg_02"&&A.error("")}}function V(){var i;var t=(i=o.value)==null?void 0:i.gotoUrl;t!=""&&t!=null&&t!=null&&window.open(t)}function D(t,i){return t?t.toString().indexOf("lm.enewie.com")>0?e("iframe",{src:t,class:"specialWidthVideo"},null):e(x,{video:t,poster:i},null):e("p",null,null)}function M(t){let s=t.target.dataset.id;if(s==""||s==null||s==null)return!1;window.open("#/exhibitors/"+s)}function T(t){return!!(t&&t!="")}function $(t){return t==null||t===""}return()=>{var h;let t,i,s,p,v;return o.value?e(W,null,[e("p",null,null),S(e(K,{autoplay:!0},{default:()=>{var n;return[(n=l.conferenceAd)==null?void 0:n.map(g=>e("img",{key:g.id,class:"fullWidthImage","data-id":g.value2,src:g.value1,onClick:M},null))]}}),[[C,T(`${o.value.content_video}`)]]),S(e("img",{src:o.value.bgcolor,class:"specialWidthImage mg_b_20 cursor_normal"},null),[[C,$(`${o.value.content_video}`)]]),e("p",null,null),e("div",{class:"pd_20 bg_white"},[e("div",{class:"fl_right"},[e(te,{class:"pd_r_10 cursor_hand",onClick:I},null)]),e("h3",null,[o.value.title]),e("div",{class:"text_gray mg_tb_20",innerHTML:o.value.content},null),e("p",null,[e(q,{type:"icon-clock"},null),H(" "),o.value.begindate.split(" ")[0]]),e("hr",null,null),d.isAdded===!1&&e(m,{type:"primary",onClick:F},c(t=a("conference.addTo"))?t:{default:()=>[t]}),d.isAdded===!0&&e(m,null,c(i=a("conference.added"))?i:{default:()=>[i]}),o.value.content_video?e(m,{type:"primary",onClick:V},c(s=a("conference.check"))?s:{default:()=>[s]}):e(m,{type:"primary"},c(p=a("conference.wait"))?p:{default:()=>[p]})]),o.value.video&&e(x,{video:o.value.video},null),D(`${o.value.content_video}`,`${o.value.bgcolor}`),e(G,{redLead:!0},c(v=a("conference.speaker"))?v:{default:()=>[v]}),e("div",{class:u.contactList},[(h=o.value.speakers)==null?void 0:h.map(n=>e("div",{key:n.id,class:u.contactListItem},[e("img",{class:u.avatar,src:n.picture},null),e("div",{class:u.profile},[e(ee,{to:`/speakers/${n.id}`},{default:()=>[e("h4",null,[f.isEn?n.name.split("|")[0]:n.name.split("|")[1]])]}),e("div",{class:"text_gray"},[f.isEn?n.company.split("|")[0]:n.company.split("|")[1]]),e("div",{class:"text_gray"},[f.isEn?n.title.split("|")[0]:n.title.split("|")[1]])])]))])]):e(P,null,null)}}});export{$e as default};
