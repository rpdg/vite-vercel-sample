import{J as M,u as k,R as F,a as U}from"./index.838f669b.js";import{M as j}from"./MainSectionHead.b9e7274a.js";import{u as N}from"./ShowfloorStore.4acd145d.js";import{F as o,R as g,g as r,I,h as C,T,i as D,j as O}from"./ant-design-vue.d9e2e5cb.js";import{h}from"./moment.29305b8e.js";import{u as R}from"./vue-i18n.0711e616.js";import{d as $,c as A,w as L,k as e,i as V,F as Y,u as z}from"./@vue.fa05379c.js";import{m as B}from"./@ant-design.8f5596ac.js";import"./vue-router.8ec3c3d8.js";import"./nprogress.35503c85.js";import"./axios.a57df465.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.e58a7599.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.0eca950e.js";import"./source-map.3671d69c.js";import"./vue.d22487d2.js";import"./@ctrl.2e36ce53.js";const J="_label_1h9tg_1";var f={label:J};function v(_){return typeof _=="function"||Object.prototype.toString.call(_)==="[object Object]"&&!V(_)}var he=$({props:{isOnline:{type:Number,required:!0}},name:"Schedule",setup(_){var H;const{isOnline:b}=_,i=M.get("current_meeting_target");i||alert("error");const{t:l}=R(),{appStore:u}=U(),{authenStore:w}=k();let S=b===1?N().showfloorStore:{continentList:[],productTypes:[]};const a=(H=w.user)==null?void 0:H.timeZone[0];let t=A({topic:l("calendar.schedule_meeting.topic_text",{a:u.isEn?i.company:i.company_cn,b:u.isEn?i.company:i.company_cn}),startDate:h(),startTime:h("08:00","HH:mm"),startDatetime:"",endDate:void 0,endTime:void 0,endDatetime:"",warning:!1,showChooser:!1,destination:null,product:null});y();function y(){var d,c,m,p;t.startDatetime=((d=t.startDate)==null?void 0:d.format("YYYY-MM-DD"))+" "+((c=t.startTime)==null?void 0:c.format("HH:mm:ss")),t.endDate=h(t.startDatetime),t.endTime=h(t.startDatetime).add(30,"minute"),t.endDatetime=((m=t.endDate)==null?void 0:m.format("YYYY-MM-DD"))+" "+((p=t.endTime)==null?void 0:p.format("HH:mm:ss"))}L([t],y);function E(){console.log({isOnline:b,toBarcode:i.employee_id,messageId:null,beginDateTime:t.startDatetime,endDateTime:t.endDatetime})}return()=>{let d,c,m,p;return e(Y,null,[e(j,{redLead:!1},v(d=l("calendar.schedule_meeting.title"))?d:{default:()=>[d]}),e("div",{class:"pd_20 bg_white"},[e(o,null,{default:()=>{var x;return[b===0&&e(g,{gutter:20},{default:()=>[e(r,{span:12},{default:()=>[e("span",{class:f.label},[l("calendar.schedule_meeting.topic")]),e(o.Item,null,{default:()=>[e(I,{type:"text",disabled:!0,value:t.topic},null)]})]}),e(r,{span:12},{default:()=>[e("span",{class:f.label},[l("calendar.schedule_meeting.my_time_zone")]),e(o.Item,null,{default:()=>[e(I,{disabled:!0,type:"text",value:`${a==null?void 0:a.utc} ${u.isEn?a==null?void 0:a.timezone_en:a==null?void 0:a.timezone_cn}`},null)]})]})]}),e(g,{gutter:20},{default:()=>[e(r,{span:12},{default:()=>[e("span",{class:f.label},[l("calendar.schedule_meeting.start")]),e(o.Item,{name:"beginDateTime"},{default:()=>[e(C,{value:t.startDate,"onUpdate:value":n=>t.startDate=n,allowClear:!1},null),e(T,{format:"HH:mm",value:t.startTime,"onUpdate:value":n=>t.startTime=n,allowClear:!1},null)]})]}),e(r,{span:12},{default:()=>[e("span",{class:f.label},[l("calendar.schedule_meeting.end")]),e(o.Item,{name:"endDateTime"},{default:()=>[e(C,{value:t.endDate,"onUpdate:value":n=>t.endDate=n,disabled:!0},null),e(T,{value:t.endTime,"onUpdate:value":n=>t.endTime=n,format:"HH:mm",disabled:!0},null)]})]})]}),b===1&&((x=w.user)==null?void 0:x.roleName)===F.buyer&&e(Y,null,[e(g,{gutter:20},{default:()=>[e(r,{span:12},{default:()=>[e("span",{class:f.label},[l("calendar.schedule_meeting.exhibitor")]),e(o.Item,null,{default:()=>{var n;return[e(D,{allowClear:!0,placeholder:l("showFloor.destination"),value:t.destination,"onUpdate:value":s=>t.destination=s,options:(n=S.continentList)==null?void 0:n.map(s=>({value:u.isEn?s.chau_en:s.chau_cn}))},null)]}})]}),e(r,{span:12},{default:()=>[e("span",{class:f.label},[z("\xA0")]),e(o.Item,null,{default:()=>{var n;return[e(D,{allowClear:!0,placeholder:l("showFloor.product"),value:t.product,"onUpdate:value":s=>t.product=s,options:(n=S.productTypes)==null?void 0:n.map(s=>({value:u.isEn?s.group_en:s.group_cn}))},null)]}})]})]}),e(g,null,{default:()=>[e(r,{span:24},{default:()=>[e(o.Item,null,{default:()=>[e(D,null,null)]})]})]})]),e("hr",null,null),e("p",null,[l("calendar.time_zone")," ",`(${a==null?void 0:a.utc}) ${u.isEn?a==null?void 0:a.timezone_en:a==null?void 0:a.timezone_cn}`]),e("p",null,[e(B,null,null),z(" "),t.startDatetime])]}})]),e(j,null,v(c=l("calendar.schedule_meeting.contactor"))?c:{default:()=>[c]}),e("div",{class:"pd_20 bg_white"},null),e(j,null,v(m=l("calendar.schedule_meeting.buyer"))?m:{default:()=>[m]}),e("div",{class:"pd_20 bg_white"},null),e("p",{class:"pd_t_20"},[e(O,{type:"primary",onClick:E,style:{width:"150px"}},v(p=l("calendar.schedule_meeting.schedule"))?p:{default:()=>[p]})])])}}});export{he as default};
