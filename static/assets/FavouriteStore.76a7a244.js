var c=Object.defineProperty;var v=(a,e,t)=>e in a?c(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var n=(a,e,t)=>(v(a,typeof e!="symbol"?e+"":e,t),t);import{b as f,g as p,p as d}from"./index.c8d3a08d.js";import{B as F,l as g}from"./@rpdg.f7b1ded6.js";var l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,y=(a,e,t,s)=>{for(var r=s>1?void 0:s?h(e,t):e,i=a.length-1,o;i>=0;i--)(o=a[i])&&(r=(s?o(e,t,r):o(r))||r);return s&&r&&l(e,t,r),r};class u extends F{constructor(){super();n(this,"data");f.token&&this.getFavourites()}async getFavourites(){this.data=await p("Favourite/list")}async add(e){await d("Favourite/AddFavourite",e),await this.getFavourites()}checkAdded(e){if(this.data)switch(e.type){case 0:return this.data.concatList.findIndex(t=>t.employee_id===e.foreignKey)>-1;case 1:return this.data.companyList.findIndex(t=>t.barcode===e.foreignKey)>-1;case 2:return this.data.productList.findIndex(t=>t.id===e.foreignKey)>-1;default:return!1}else return!1}async delete(e){await d("Favourite/RemoveFavourite",e),await this.getFavourites()}async judge(e){return await d("Favourite/JudgeIsFavourite",e)}}y([g],u.prototype,"getFavourites",1);const w=new u;function j(){return{favoriteStore:w}}export{j as u};
