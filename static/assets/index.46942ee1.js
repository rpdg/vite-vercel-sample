var t=Object.defineProperty,e=(e,i,a)=>(((e,i,a)=>{i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[i]=a})(e,"symbol"!=typeof i?i+"":i,a),a);import{M as i}from"./MainSectionHead.8ba49e1e.js";import{B as a,p as o,l as s}from"./index.5e77866e.js";import{R as n,j as r,g as l}from"./ant-design-vue.b2a91f0d.js";import{h as m}from"./moment.29305b8e.js";import{u as c}from"./vue-i18n.bbad715b.js";import{d}from"./vue-router.0532eeed.js";import{s as p}from"./index.module.ba9314b5.js";import{a2 as u,r as v,aW as f,al as b,t as j,a0 as g,ag as y,$ as _,I as h}from"./@vue.5723de44.js";import"./@ant-design.a9421c3d.js";import"./@ctrl.2e36ce53.js";import"./nprogress.3e43c680.js";import"./axios.a57df465.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.bcdd4346.js";import"./warning.4abaefa0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.c2b61631.js";import"./source-map.3671d69c.js";import"./vue.3a1030aa.js";var O=Object.defineProperty,L=Object.getOwnPropertyDescriptor;class w extends a{constructor(){super(),e(this,"eventList")}async getEventList(t){let e=t.month.startOf("month").format("YYYY-MM-DD 00:00:00"),i=t.month.endOf("month").format("YYYY-MM-DD 23:59:59");this.eventList=await o("NewActivity/EventList",{isOnline:t.isOnline,beginDateTime:e,endDateTime:i})}}((t,e,i,a)=>{for(var o,s=a>1?void 0:a?L(e,i):e,n=t.length-1;n>=0;n--)(o=t[n])&&(s=(a?o(e,i,s):o(s))||s);a&&s&&O(e,i,s)})([s],w.prototype,"getEventList",1);let Y=new w;function D(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!y(t)}var M=u({name:"EventList",setup(){const{t:t}=c();let{eventsStoreStore:e}={eventsStoreStore:Y},a=v({isOnline:!0,month:m()});return f(a,(t=>{e.getEventList(j(t))})),b((()=>{e.getEventList(j(a))})),()=>{let o,s,m;return g(h,null,[g(i,{redLead:!1},D(o=t("menu.events"))?o:{default:()=>[o]}),g("div",{class:"pd_20 bg_white mg_b_20"},[g(n.Group,{value:a.isOnline,"onUpdate:value":t=>a.isOnline=t},{default:()=>[g(n.Button,{value:!0},D(s=t("events.online"))?s:{default:()=>[s]}),g(n.Button,{value:!1},D(m=t("events.offline"))?m:{default:()=>[m]})]}),g("span",{class:"mg_l_20"},[g(r,{allowClear:!0,value:a.month,"onUpdate:value":t=>a.month=t},null)])]),g("div",{class:"pd_20 bg_white"},[g(l,{loading:e.loading,itemLayout:"vertical",dataSource:e.eventList},{renderItem:({item:t})=>g(l.Item,{class:p.verticalListItem},{default:()=>[g(l.Item.Meta,null,{title:()=>g(d,{to:`/conference/${t.activity_content_id}`},{default:()=>[t.actitivity_content_title]}),description:()=>g("div",{class:p.content},[t.actitivity_content_begindate.split(" ")[0]," ",t.actitivity_content_time,_(" "),g("br",null,null),t.location]),avatar:()=>g("img",{class:p.avatar,src:t.coverpicture},null)})]})})])])}}});export default M;
