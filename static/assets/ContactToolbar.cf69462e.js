import{I as n,M as g,J as C,r as k,c as _,u as h}from"./index.457c8e47.js";import{u as M}from"./FavouriteStore.1984e6f6.js";import{k as j,l as r,n as S}from"./ant-design-vue.01c85282.js";import{_ as O}from"./vue-clipboard3.ca4b4e55.js";import{u as F}from"./vue-i18n.0711e616.js";import{d as I,l as w,c as B,I as K,k as e,i as x,F as A}from"./@vue.fa05379c.js";function u(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!x(t)}var L=I({name:"ContactToolbar",props:{user:{type:Object,required:!0}},setup(t){const{t:a}=F();let{toClipboard:d}=O(),{favoriteStore:s}=M();const{chatStore:f}=_(),{appStore:y}=h();async function p(){try{await d(window.location.href),S.success({message:a("common.copied")})}catch(i){console.error(i)}}const l=w(!1);function m(){y.myItbModule=g.Chat,f.chatWith(t.user)}let o=B({visibility:!1,isOnlineMeeting:1});function v(){o.visibility=!1,C.set("current_meeting_target",t.user),k.push(`/schedule/${o.isOnlineMeeting}`)}return K(async()=>{l.value=s.checkAdded({type:0,foreignKey:t.user.employee_id})}),()=>{let i,c;return e(A,null,[e(j,{visible:o.visibility,title:a("calendar.select_type"),onOk:v,onCancel:()=>{o.visibility=!1}},{default:()=>[e(r.Group,{value:o.isOnlineMeeting,"onUpdate:value":b=>o.isOnlineMeeting=b},{default:()=>[e(r.Button,{key:"1",value:1},u(i=a("calendar.online"))?i:{default:()=>[i]}),e(r.Button,{key:"0",value:0},u(c=a("calendar.offline"))?c:{default:()=>[c]})]})]}),e(n,{type:"icon-namecard"},null),e(n,{type:"icon-icon-test",onClick:m},null),e(n,{type:"icon-icon-test2",onClick:()=>{o.visibility=!0}},null),e(n,{type:"icon-icon-test1",onClick:p},null),l.value?e(n,{type:"icon-collection-fill",onClick:async()=>{await s.delete({type:0,foreignKey:t.user.employee_id}),l.value=!1}},null):e(n,{type:"icon-collection",onClick:async()=>{await s.add({type:0,foreignKey:t.user.employee_id}),l.value=!0}},null)])}}});export{L as C};
