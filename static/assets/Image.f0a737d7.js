import{B as i}from"./BlankGif.8ca146ab.js";import{S as o}from"./Config.87ac60ee.js";async function u(e){return new Promise((n,r)=>{if(!e.type.match(/image.*/)){r(new Error("Not an image"));return}const t=new FileReader;t.onload=()=>n(t.result),t.onerror=a=>r(a),t.readAsDataURL(e)})}async function s(e){return new Promise((n,r)=>{let t=new Image;t.onload=()=>{n(!0)},t.onerror=a=>{r(!1)},t.src=e})}function f(e="",n=i){let r;if(e)e.indexOf("http://")===0||e.indexOf("https://")===0||e.indexOf("//")===0?r=e:r=`${o}${e.replace(/\\/g,"/")}`;else return n;return r}async function m(e="",n=i){let r=f(e,n),t=!1;try{t=await s(r)}catch(a){}return t?r:n}export{m as f,u as g,f as p};
