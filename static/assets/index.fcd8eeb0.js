import{S as u,a as h,I as b,L as F}from"./index.920e9a46.js";import{s as S,u as j}from"./index.module.6f4bd21c.js";import{m as k}from"./@rpdg.e35df5be.js";import{S as w,o as y,n as p,H as C}from"./ant-design-vue.5bef4758.js";import{d as L}from"./vue-router.85e08d32.js";import{d as I}from"./itb_logo_gray.5050f3d7.js";import{d as m,l as B,k as e,o as O,w as T,i as E,F as _}from"./@vue.f0a33739.js";import{M as U}from"./MainSectionHead.3a39449d.js";import{u as A}from"./vue-i18n.df730e9c.js";import"./moment.29305b8e.js";import"./@ant-design.a109b705.js";import"./@ctrl.2e36ce53.js";import"./nprogress.35503c85.js";import"./axios.7aed06b8.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.647f38fa.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.19fb0a11.js";import"./source-map.e9534891.js";import"./vue.e0a06ef1.js";var g=m({props:{exhibitor:{type:Object,required:!0},onClick:{type:Function,required:!1}},name:"ShowfloorIndex_Card",setup(o){var n;let{appStore:l}=h();B((n=o.exhibitor.company_logo)!=null?n:"");let a="";return l.isEn?o.exhibitor.company_logo_en!=null&&o.exhibitor.company_logo_en!=""?a=u+o.exhibitor.company_logo_en:o.exhibitor.company_logo!=null&&o.exhibitor.company_logo!=""?a=u+o.exhibitor.company_logo:a=I:o.exhibitor.company_logo!=null&&o.exhibitor.company_logo!=""?a=u+o.exhibitor.company_logo:o.exhibitor.company_logo_en!=null&&o.exhibitor.company_logo_en!=""?a=u+o.exhibitor.company_logo_en:a=I,()=>e("div",{class:S.card,onClick:o.onClick},[e("div",{class:"squareItem2"},[e("img",{src:a},null)]),e("div",{class:S.title},[l.isEn?o.exhibitor.companyname_en:o.exhibitor.companyname_cn])])}});function R(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!E(o)}var M=m({name:"Showfloor_SearchBar",setup(){const{t:o}=A();let{showfloorStore:l}=j(),{appStore:a}=h(),n=l.state;O(()=>{l.doSearchShowFloor({region:"",product:"",companyType:""})}),T([n],f);function f(){var s,i,r,d;n.iconIndex===0?l.doSearchShowFloor({region:(s=n.destination)!=null?s:"",product:(i=n.product)!=null?i:"",companyType:""}):n.iconIndex===1?l.doSearchShowFloor({region:(r=n.destination)!=null?r:"",product:"",companyType:(d=n.company)!=null?d:""}):n.iconIndex===2&&l.getExhibitor()}return()=>{let s;return e(_,null,[e(U,{redLead:!1},R(s=o("menu.showFloor"))?s:{default:()=>[s]}),e("div",{class:"bg_white pd_20"},[e(w,{size:15},{default:()=>{var i,r,d;return[n.iconIndex!=2&&e(y,{allowClear:!0,placeholder:o("showFloor.destination"),style:"width: 150px",value:n.destination,"onUpdate:value":t=>n.destination=t,options:(i=l.continentList)==null?void 0:i.map(t=>({value:a.isEn?t.chau_en:t.chau_cn}))},null),n.iconIndex===0&&e(y,{allowClear:!0,placeholder:o("showFloor.product"),style:{width:"300px"},value:n.product,"onUpdate:value":t=>n.product=t,options:(r=l.productTypes)==null?void 0:r.map(t=>({value:t.id,label:a.isEn?t.group_en:t.group_cn}))},null),n.iconIndex===1&&e(y,{allowClear:!0,placeholder:o("showFloor.company"),style:{width:"300px"},value:n.company,"onUpdate:value":t=>n.company=t,options:(d=l.companyTypes)==null?void 0:d.map(t=>({value:t.id,label:a.isEn?t.companytype_en:t.companytype_cn}))},null),e(p.Group,{value:n.iconIndex,"onUpdate:value":t=>n.iconIndex=t,class:"iconGroup"},{default:()=>[e(p.Button,{value:1},{default:()=>[e(b,{type:"icon-category"},null)]}),e(p.Button,{value:0},{default:()=>[e(b,{type:"icon-all"},null)]}),e(p.Button,{value:2},{default:()=>[e(b,{type:"icon-connections"},null)]})]})]}})])])}}});function H(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!E(o)}var V=m({name:"ShowfloorIndex_Results",setup(){let{appStore:o}=h(),{showfloorStore:l}=j();const a="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");function n(s){var i;return(i=s.children)==null?void 0:i.map(r=>e("div",{class:"gridCols4"},[e("div",null,null),e(g,{exhibitor:r},null)]))}function f(s=!1){var d;let i={};(d=l.results)==null||d.forEach(t=>{var v,x;let c=o.isEn?(v=t.companyname_en)==null?void 0:v.substr(0,1).toLocaleUpperCase():t.companyname_cn?k((x=t.companyname_cn)==null?void 0:x.substr(0,1))[0].toLocaleUpperCase():"#";i[c]||(a.indexOf(c)===-1&&(c="#"),i[c]=[]),i[c].push(t)});let r=[];return a.forEach(t=>{i[t]&&(r.push(e(_,null,[e("p",{id:`#${t}`},[t]),e("hr",null,null)])),s?i[t].forEach(c=>r.push(e("div",{class:"bg_white mg_tb_20 pd_20"},[e("div",{class:"gridCols4"},[e(g,{exhibitor:c,onClick:()=>l.getExhibitorChildren(c)},null)]),n(c)]))):r.push(e("div",{class:"gridCols4 bg_white mg_t_20 pd_20"},[i[t].map(c=>e(L,{to:`/exhibitors/${c.barcode}`,target:"_blank"},{default:()=>[e(g,{exhibitor:c},null)]}))])))}),r}return()=>{let s;return e("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},[e("div",{style:{height:"200px"}},[e(M,null,null),e("div",{class:"mg_tb_20 bg_white"},[e(C,{affix:!1,onClick:(i,r)=>{if(i.preventDefault(),r.href){let d=document.getElementById(r.href);d&&d.scrollIntoView({block:"start",behavior:"smooth"})}}},{default:()=>[e(w,{size:1},H(s=a.map(i=>e(C.Link,{title:i,href:`#${i}`},null)))?s:{default:()=>[s]})]})])]),e("div",{style:{flex:1,overflow:"auto"}},[e("div",{class:"bg_white pd_20"},[l.loading?e(F,null,null):f(l.state.iconIndex===2)])])])}}}),fe=m({name:"ShowfloorIndex",setup(){return()=>e(_,null,[e(V,null,null)])}});export{fe as default};
