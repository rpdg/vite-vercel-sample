var e=Object.defineProperty,t=(t,i,a)=>(((t,i,a)=>{i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[i]=a})(t,"symbol"!=typeof i?i+"":i,a),a);import{M as i}from"./MainSectionHead.8ba49e1e.js";import{B as a,p as o,l as s}from"./index.ffebe535.js";import{R as n,j as r,g as l}from"./ant-design-vue.caf0e0b9.js";import{h as m}from"./moment.29305b8e.js";import{u as c}from"./vue-i18n.bbad715b.js";import{d as p}from"./vue-router.0532eeed.js";import{s as d}from"./index.module.ba9314b5.js";import{a2 as u,r as v,aW as f,al as b,t as j,a0 as g,ag as y,$ as _,I as h}from"./@vue.5723de44.js";import"./@ant-design.503097a2.js";import"./@ctrl.2e36ce53.js";import"./nprogress.3e43c680.js";import"./axios.a57df465.js";import"./@babel.dc475c8c.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.60ec16aa.js";import"./warning.4abaefa0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.c2b61631.js";import"./source-map.3671d69c.js";import"./vue.3a1030aa.js";var O=Object.defineProperty,L=Object.getOwnPropertyDescriptor;class w extends a{constructor(){super(),t(this,"eventList")}async getEventList(e){let t=e.month.startOf("month").format("YYYY-MM-DD 00:00:00"),i=e.month.endOf("month").format("YYYY-MM-DD 23:59:59");this.eventList=await o("NewActivity/EventList",{isOnline:e.isOnline,beginDateTime:t,endDateTime:i})}}((e,t,i,a)=>{for(var o,s=a>1?void 0:a?L(t,i):t,n=e.length-1;n>=0;n--)(o=e[n])&&(s=(a?o(t,i,s):o(s))||s);a&&s&&O(t,i,s)})([s],w.prototype,"getEventList",1);let Y=new w;function D(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!y(e)}var M=u({name:"EventList",setup(){const{t:e}=c();let{eventsStoreStore:t}={eventsStoreStore:Y},a=v({isOnline:!0,month:m()});return f(a,(e=>{t.getEventList(j(e))})),b((()=>{t.getEventList(j(a))})),()=>{let o,s,m;return g(h,null,[g(i,{redLead:!1},D(o=e("menu.events"))?o:{default:()=>[o]}),g("div",{class:"pd_20 bg_white mg_b_20"},[g(n.Group,{value:a.isOnline,"onUpdate:value":e=>a.isOnline=e},{default:()=>[g(n.Button,{value:!0},D(s=e("events.online"))?s:{default:()=>[s]}),g(n.Button,{value:!1},D(m=e("events.offline"))?m:{default:()=>[m]})]}),g("span",{class:"mg_l_20"},[g(r,{allowClear:!0,value:a.month,"onUpdate:value":e=>a.month=e},null)])]),g("div",{class:"pd_20 bg_white"},[g(l,{loading:t.loading,itemLayout:"vertical",dataSource:t.eventList},{renderItem:({item:e})=>g(l.Item,{class:d.verticalListItem},{default:()=>[g(l.Item.Meta,null,{title:()=>g(p,{to:`/conference/${e.activity_content_id}`},{default:()=>[e.actitivity_content_title]}),description:()=>g("div",{class:d.content},[e.actitivity_content_begindate.split(" ")[0]," ",e.actitivity_content_time,_(" "),g("br",null,null),e.location]),avatar:()=>g("img",{class:d.avatar,src:e.coverpicture},null)})]})})])])}}});export default M;
