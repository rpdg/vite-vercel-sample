import{u as F,L as I,I as V,a as k}from"./index.ae657a86.js";import{P as M}from"./index.18bf7546.js";import{M as f}from"./MainSectionHead.21260b67.js";import{u as T}from"./ConferenceStore.67b921e2.js";import{s as c}from"./index.module.6e348a91.js";import{g as y,F as D,n as N,m as _}from"./ant-design-vue.185fab3e.js";import{_ as O}from"./vue-clipboard3.5287e840.js";import{u as E}from"./vue-i18n.f56f8be1.js";import{d as H}from"./vue-router.82b024de.js";import{d as R,o as $,j as P,l as h,c as S,k as e,u as W,i as q,F as z}from"./@vue.b2913f50.js";import{M as B}from"./@ant-design.3b6fcf97.js";import"./@rpdg.8b8261fd.js";import"./moment.29305b8e.js";import"./nprogress.9dcdc490.js";import"./axios.7aed06b8.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.647f38fa.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.e28dde39.js";import"./source-map.e9534891.js";import"./vue.7093eef6.js";import"./@ctrl.2e36ce53.js";import"./xgplayer.7c524c7c.js";import"./clipboard.8b2d5081.js";function d(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Object]"&&!q(r)}const G=D.useForm;var Le=R({name:"ConferenceDetail",props:{id:{type:Number,required:!0}},setup(r){var j,g;const{t:i}=E();let{conferenceStore:n}=T(),{authenStore:b}=F(),{toClipboard:x}=O();const{appStore:u}=k(),w=async()=>{try{await x(window.location.href),N.success({message:i("common.copied")})}catch(t){console.error(t)}};$(()=>{n.getActivityContentDetail(r.id),b.token&&n.checkInSchedule(r.id).then(t=>l.isAdded=t)});let s=P(()=>n.currentDetail);h();const l=S({rate:3,content:"",Action:"1",barcode:(g=(j=b.user)==null?void 0:j.barcode)!=null?g:"",Type:"2",SubscribeId:"",activitycontentid:"",isAdded:void 0}),L=S({});G(l,L),h(i("conference.rateValues").split(","));async function A(){try{await n.addToSchedule(r.id)==="ok"&&_.success(i("common.success"))}catch(t){t.message==="error_msg_02"&&_.error("")}}function C(t,a){return t?t.toString().indexOf("lm.enewie.com")>0?e("iframe",{src:t,class:"specialWidthVideo"},null):e(M,{video:t,poster:a},null):e("p",null,null)}return()=>{var v;let t,a,m,p;return s.value?e(z,null,[e(f,{redLead:!1},null),e("img",{src:s.value.bgcolor,class:"specialWidthImage mg_b_20 cursor_normal"},null),e("div",{class:"pd_20 bg_white"},[e("div",{class:"fl_right"},[e(B,{class:"pd_r_10 cursor_hand",onClick:w},null)]),e("h3",null,[s.value.title]),e("div",{class:"text_gray mg_tb_20",innerHTML:s.value.content},null),e("p",null,[e(V,{type:"icon-clock"},null),W(" "),s.value.begindate.split(" ")[0]]),e("hr",null,null),l.isAdded===!1&&e(y,{type:"primary",onClick:A},d(t=i("conference.addTo"))?t:{default:()=>[t]}),l.isAdded===!0&&e(y,null,d(a=i("conference.added"))?a:{default:()=>[a]})]),e(f,{redLead:!0},d(m=i("conference.playback"))?m:{default:()=>[m]}),C(`${s.value.content_video}`,`${s.value.bgcolor}`),e(f,{redLead:!0},d(p=i("conference.speaker"))?p:{default:()=>[p]}),e("div",{class:c.contactList},[(v=s.value.speakers)==null?void 0:v.map(o=>e("div",{key:o.id,class:c.contactListItem},[e("img",{class:c.avatar,src:o.picture},null),e("div",{class:c.profile},[e(H,{to:`/speakers/${o.id}`},{default:()=>[e("h4",null,[u.isEn?o.name.split("|")[0]:o.name.split("|")[1]])]}),e("div",{class:"text_gray"},[u.isEn?o.company.split("|")[0]:o.company.split("|")[1]]),e("div",{class:"text_gray"},[u.isEn?o.title.split("|")[0]:o.title.split("|")[1]])])]))])]):e(I,null,null)}}});export{Le as default};
