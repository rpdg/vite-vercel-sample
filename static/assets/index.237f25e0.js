import{M as D}from"./MainSectionHead.99c217de.js";import{a as S}from"./index.0bceb754.js";import{u as L}from"./ConferenceStore.548a58e3.js";import{s as f,t as x}from"./ant-design-vue.a99caae8.js";import{h as i}from"./moment.29305b8e.js";import{u as I}from"./vue-i18n.df730e9c.js";import{d as O}from"./vue-router.85e08d32.js";import{s as j}from"./index.module.6e348a91.js";import{D as M,U as k}from"./@ant-design.dd8d38e4.js";import{d as y,l as B,k as e,j as Y,c as C,w as H,B as h,I as R,i as T,F as A}from"./@vue.f0a33739.js";import"./@rpdg.e35df5be.js";import"./nprogress.35503c85.js";import"./axios.7aed06b8.js";import"./@babel.288dabcc.js";import"./regenerator-runtime.8463e994.js";import"./omit.js.0925d6dc.js";import"./lodash-es.647f38fa.js";import"./warning.ca82f8e0.js";import"./resize-observer-polyfill.8deb1e21.js";import"./async-validator.1fa0d626.js";import"./scroll-into-view-if-needed.c68eec67.js";import"./compute-scroll-into-view.6058b3be.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./@intlify.19fb0a11.js";import"./source-map.e9534891.js";import"./vue.e0a06ef1.js";import"./@ctrl.2e36ce53.js";const E="_content_ocxss_1",P="_title_ocxss_8",z="_toggler_ocxss_23";var g={content:E,title:P,toggler:z},_=y({name:"presentationListItem",props:{content:{type:Object,required:!0},shown:{type:Boolean,default:!1},disable:{type:Boolean,default:!1}},setup(a){const{content:o,shown:d,disable:p}=a,r=B(d);o.title.split("/");function m(){r.value=!r.value}return()=>e("div",{class:g.content},[e("div",{class:g.title,onClick:p?void 0:m},[e("h3",null,[o.title]),e("div",{class:g.toggler},[r.value?e(M,{class:"cursor_hand"},null):e(k,{class:"cursor_hand"},null)])]),e(f,{style:{display:r.value?"block":"none"},itemLayout:"vertical",dataSource:o.children},{renderItem:({item:n})=>e(f.Item,{class:j.verticalListItem},{default:()=>[e(f.Item.Meta,null,{title:()=>e(O,{to:`/conference/${n.activity_content_id}`},{default:()=>[n.actitivity_content_title]}),description:()=>e("div",{class:j.content},[n.actitivity_content_begindate.split(" ")[0]," ",e("br",null,null),n.location]),avatar:()=>e("img",{style:"width:120px;",src:n.actitivity_content_bgcolor},null)})]})})])}});function F(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Object]"&&!T(a)}var ve=y({name:"PresentationList",setup(){var v,b;const{t:a}=I();let{conferenceStore:o}=L();const{appStore:d}=S();let p=Y(()=>d.isEn?"en":"zh");const r=i(new Date(new Date().getTime()+(7-new Date().getDay())*24*60*60*1e3)).format("YYYY-MM-DD"),m={from:i((v=d.exhibitionDate)==null?void 0:v.onlineBeginDateTime).startOf("month"),to:i((b=d.exhibitionDate)==null?void 0:b.onlineEndDateTime).endOf("month")};let n=C({isOnline:!0,month:i(m.from,"YYYY-MM-DD HH:mm:ss").diff(Date.now(),"second")>0?i(m.from):i(Date.now()).startOf("month")});function w(s){let l=s.split("\u6708")[0],c=s.split("\u6708")[1].split("\u65E5")[0];return parseInt(l)<10&&(l="0"+l),parseInt(c)<10&&(c="0"+c),"2022-"+l+"-"+c}return H(n,s=>{o.getPresentationHubList(h(s))}),R(()=>{o.getPresentationHubList(h(n)),o.getConferenceAdvertisement()}),()=>{var l,c;let s;return e(A,null,[e(D,{redLead:!1},F(s=a("menu.presentation"))?s:{default:()=>[s]}),e("p",null,null),e(x,{autoplay:!0},{default:()=>{var t;return[(t=o.conferenceAd)==null?void 0:t.map(u=>{if(u.value3===p.value)return e("img",{key:u.id,class:"fullWidthImage","data-id":u.value2,src:u.value1},null)})]}}),e("div",{class:"pd_20 bg_white"},[d.isEn?(l=o.presentationList)==null?void 0:l.filter(t=>t.bgcolor==="en").map((t,u)=>e(_,{key:t.id,content:t,shown:!1,disable:!i("2022-"+t.title.split("/")[0]).isSameOrBefore(r)},null)):(c=o.presentationList)==null?void 0:c.filter(t=>t.bgcolor==="cn").map((t,u)=>e(_,{key:t.id,content:t,shown:!1,disable:!i(w(t.title.split("/")[0])).isSameOrBefore(r)},null))])])}}});export{ve as default};
