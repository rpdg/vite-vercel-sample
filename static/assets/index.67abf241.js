import{L as e,s as a}from"./index.module.ba4ef8ce.js";import{h as r,u as o,a as t,F as u,I as l,U as d,w as s,x as c,o as n,y as V}from"./vendor.7b3e9c73.js";function i(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Vue.isVNode(e)}var p=Vue.defineComponent({name:"Login",setup(p,{slots:g}){const f=r(),m=o(),{t:N}=t({useScope:"global"}),v=Vue.ref(),b=Vue.reactive({user:"",password:"",agreed:!0}),h=Vue.reactive({user:[{required:!0,message:N("login.usernameTip"),trigger:"blur"}],password:[{required:!0,message:N("login.passwordTip"),trigger:"blur"}]});async function w(){var e,a;try{await v.value.validate(),console.log("values",Vue.toRaw(b)),m.push(null!=(a=null==(e=f.query)?void 0:e.redirect)?a:"/home")}catch(r){console.log("error",r)}}return()=>{let r,o,t;return Vue.createVNode(e,null,{default:()=>[Vue.createVNode("div",{class:a.outer},[Vue.createVNode("div",{class:a.padding},[Vue.createVNode("h3",null,[Vue.createTextVNode("China 2021 plus")])]),Vue.createVNode("div",{class:a.form},[Vue.createVNode("h1",null,[N("login.loginForm")]),Vue.createVNode(u,{ref:v,model:b,rules:h},{default:()=>[Vue.createVNode(u.Item,{name:"user"},{default:()=>[Vue.createVNode(l,{value:b.user,"onUpdate:value":e=>b.user=e,placeholder:N("login.username")},{prefix:()=>Vue.createVNode(d,{style:"color: rgba(0, 0, 0, 0.25)"},null)})]}),Vue.createVNode(u.Item,{name:"password"},{default:()=>[Vue.createVNode(l,{type:"password",value:b.password,"onUpdate:value":e=>b.password=e,placeholder:N("login.password")},{prefix:()=>Vue.createVNode(s,{style:"color: rgba(0, 0, 0, 0.25)"},null)})]}),Vue.createVNode(u.Item,{name:"agreed"},{default:()=>[Vue.createVNode(c,{checked:b.agreed,"onUpdate:checked":e=>b.agreed=e},{default:()=>[Vue.createVNode(n,{to:"/agreement"},i(r=N("login.agreeTip"))?r:{default:()=>[r]})]})]}),Vue.createVNode(u.Item,null,{default:()=>[Vue.createVNode(V,{type:"primary",block:!0,disabled:!b.agreed,onClick:w},i(o=N("login.login"))?o:{default:()=>[o]})]})]}),Vue.createVNode("p",{class:a.registTip},[Vue.createVNode(n,{to:"/signUp"},i(t=N("login.registTip"))?t:{default:()=>[t]})])]),Vue.createVNode("div",{class:a.padding},null)])]})}}});export default p;
